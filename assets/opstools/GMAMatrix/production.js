steal.has("stealconfig.js","opstools/GMAMatrix/views/GMAList/GMAListDOM.ejs","opstools/GMAMatrix/views/GMAList/GMAListItem.ejs","opstools/GMAMatrix/controllers/GMAList.js","opstools/GMAMatrix/classes/GMAMeasurement.js","opstools/GMAMatrix/classes/GMAPlacement.js","opstools/GMAMatrix/classes/GMAReport.js","opstools/GMAMatrix/classes/GMAAssignment.js","opstools/GMAMatrix/views/AssignmentList/AssignmentList.ejs","opstools/GMAMatrix/controllers/AssignmentList.js","opstools/GMAMatrix/views/StrategyList/StrategyList.ejs",
"opstools/GMAMatrix/controllers/StrategyList.js","opstools/GMAMatrix/views/ReportList/ReportList.ejs","opstools/GMAMatrix/controllers/ReportList.js","opstools/GMAMatrix/classes/GMALMIDefinition.js","opstools/GMAMatrix/views/LMIDefinition/LMIDefinition.ejs","opstools/GMAMatrix/controllers/LMIDefinition.js","opstools/GMAMatrix/views/Measurement/Measurement.ejs","opstools/GMAMatrix/controllers/Measurement.js","opstools/GMAMatrix/views/NotPlacedList/NotPlacedList.ejs","opstools/GMAMatrix/controllers/NotPlacedList.js",
"opstools/GMAMatrix/views/GMAStage/GMAStage-Entry.ejs","opstools/GMAMatrix/controllers/GMAStage-Entry.js","opstools/GMAMatrix/views/Measurement/LayoutMeasurement.ejs","opstools/GMAMatrix/controllers/LayoutMeasurement.js","opstools/GMAMatrix/controllers/ADAffix.js","opstools/GMAMatrix/views/GMAStage/GMAStage-Layout.ejs","opstools/GMAMatrix/controllers/GMAStage-Layout.js","opstools/GMAMatrix/views/LMIGraph/LMIGraph.ejs","opstools/GMAMatrix/controllers/LMIGraph.js","opstools/GMAMatrix/views/GMAStage/GMAStage-Dashboard.ejs",
"opstools/GMAMatrix/controllers/GMAStage-Dashboard.js","opstools/GMAMatrix/views/GMAStage/GMAStage.ejs","opstools/GMAMatrix/controllers/GMAStage.js","opstools/GMAMatrix/views/GMAFilters/GMAFilters.ejs","opstools/GMAMatrix/controllers/GMAFilters.js","opstools/GMAMatrix/classes/GMAGraphData.js","opstools/GMAMatrix/views/GMAMatrix/GMAMatrix.ejs","opstools/GMAMatrix/controllers/GMAMatrix.js","opstools/GMAMatrix/GMAMatrix.js");steal({id:"OpsPortal/production.js",waits:!0,has:"can/util/can.js can/util/array/each.js can/util/jquery/jquery.js can/util/util.js can/util/bind/bind.js can/util/string/string.js can/construct/construct.js can/observe/observe.js can/util/string/deparam/deparam.js can/route/route.js can/control/control.js can/control/route/route.js can/model/model.js can/view/view.js can/observe/compute/compute.js can/view/elements.js can/view/scanner.js can/view/node_lists.js can/view/live.js can/view/render.js can/view/ejs/ejs.js can/can.js can/construct/super/super.js appdev/ad.js js/OpenAjax.js appdev/comm/hub.js appdev/util/uuid.js js/async.js appdev/util/async.js appdev/config/config.js appdev/model/model.js appdev/labels/lang.js appdev/labels/label.js appdev/sal/web-jquery.js appdev/comm/service.js appdev/comm/socket.js appdev/widgets/ad_ui_reauth/ad_ui_reauth.css appdev/widgets/ad_ui_reauth/ad_ui_reauth.js appdev/auth/reauth.js appdev/UIController.js appdev/control/control.js appdev/widgets/ad_icon_busy/ad_icon_busy.css appdev/widgets/ad_icon_busy/ad_icon_busy.js appdev/appdev.js jquery-wijmo.css wijmo-pro.css wijmo-open.js wijmo-pro.js OpsPortal/classes/OpsTool.js".split(" ")});
steal({id:"opstools/GMAMatrix/production.css",waits:!0,has:["opstools/GMAMatrix/matrix.css","opstools/GMAMatrix/matrix-scratch.css","opstools/GMAMatrix/datepicker.css","http://code.jquery.com/ui/1.11.0/themes/smoothness/jquery-ui.css"]});steal.pushPending();
steal.config({map:{"*":{"jquery/jquery.js":"jquery"}},paths:{jquery:"js/jquery.min.js","jquery-ui.js":"js/jquery-ui.min.js","bootstrap.js":"bootstrap/js/bootstrap.js","bootstrap.css":"bootstrap/css/bootstrap.min.css","wijmo-open.js":"js/jquery.wijmo-open.all.3.20142.45.min.js","wijmo-pro.css":"styles/jquery.wijmo-pro.all.3.20142.45.min.css","wijmo-pro.js":"js/jquery.wijmo-pro.all.3.20142.45.min.js","jquery-wijmo.css":"styles/jquery-wijmo.css","font-awesome.css":"styles/font-awesome.css","GenericList.js":"js/GenericList.js",
"dropzone.js":"js/dropzone.min.js","dropzone.css":"styles/dropzone.css"},shim:{jquery:{exports:"jQuery",ignore:!0},"js/dependencies/sails.io.js":{packaged:!1,ignore:!0},"site/labels/appdev.js":{packaged:!1,ignore:!0},"jquery-ui.js":{packaged:!1},"bootstrap.js":{packaged:!1},"wijmo-open.js":{packaged:!1},"wijmo-pro.js":{packaged:!1},"jquery-wijmo.css":{packaged:!1},"font-awesome.css":{packaged:!1},"js/jquery.sidr.min.js":{packaged:!1},"bootstrap/js/bootstrap-datepicker.js":{packaged:!1},"opsportal/requirements.js":{ignore:!0},
"site/labels/OpsPortal.js":{packaged:!1,ignore:!0},"site/labels/opstool-Dashboard.js":{packaged:!1,ignore:!0},"js/datatables/media/js/jquery.dataTables.min.js":{packaged:!1},"js/sDashboard/sDashboard.css":{packaged:!1},"js/Flotr2/flotr2.min.js":{packaged:!1},"js/sDashboard/jquery-sDashboard.js":{packaged:!1},"wijmo-pro.css":{packaged:!1},"site/labels/opstools/GMAMatrix.js":{packaged:!1,ignore:!0},"site/labels/HrisAdminObjects.js":{packaged:!1,ignore:!0},"site/labels/HRISUserProfile.js":{packaged:!1,
ignore:!0},"dropzone.js":{packaged:!1},"dropzone.css":{packaged:!1},"site/labels/opstool-MPDReport.js":{packaged:!1,ignore:!0}},amd:!1});steal.executed("stealconfig.js");
steal("can/view/ejs",function(a){return a.view.preload("opstools_GMAMatrix_views_GMAList_GMAListDOM_ejs",a.EJS(function(b,c){with(c)with(b){var d=[];d.push('\n\t\t<div class="opsportal-widget-title-container opsportal-widget-container-divider">\n\t\t\t<h2 class="opsportal-widget-title">');d.push(a.view.txt(1,"h2",0,this,function(){return title}));d.push('</h2>\n\t\t</div>\t\t\t\n\t\t<div class="opsportal-widget-meta">\n\t\t  ');d.push(a.view.txt(0,"div",0,this,function(){var b=[];description&&(b.push('\n\t\t  <p class="opsportal-widget-meta-desc">'),
b.push(a.view.txt(0,"p",0,this,function(){return description})),b.push("</p></div>\n\t\t  "));return b.join("")}));d.push('\n\t\t<div class="btn-group opsportal-btn-full">\n\t\t  <button type="button" class="btn btn-default dropdown-toggle opsportal-btn opsportal-btn-full opsportal-btn-wj" data-toggle="dropdown" style="text-align: left;">\n\t\t    <span class="gmalist-selected-label">');d.push(a.view.txt(1,"span",0,this,function(){return title}));d.push('</span>\n\t\t    <span class="caret opsportal-btn-caret"></span>\n\t\t  </button>\n\t\t  <ul class="gmalist-list dropdown-menu" role="menu">\n\t\t  </ul>\n\t\t</div>\n');
return d.join("")}}))});steal.executed("opstools/GMAMatrix/views/GMAList/GMAListDOM.ejs");
steal("can/view/ejs",function(a){return a.view.preload("opstools_GMAMatrix_views_GMAList_GMAListItem_ejs",a.EJS(function(b,c){with(c)with(b){var d=[];d.push('\n\t\t    <li class="gmalist-item" gma-list-del-id="');d.push(a.view.txt(1,"li","gma-list-del-id",this,function(){return item.getID()}));d.push('"',a.view.pending(),">");d.push('\n\t\t      <a href="#">\n\t\t          ');d.push(a.view.txt(1,"a",0,this,function(){return item.label()}));d.push("\n\t\t      </a>\n\t\t    </li>\n\t\t\t");return d.join("")}}))});
steal.executed("opstools/GMAMatrix/views/GMAList/GMAListItem.ejs");
steal("appdev","//opstools/GMAMatrix/views/GMAList/GMAListDOM.ejs","//opstools/GMAMatrix/views/GMAList/GMAListItem.ejs",function(){AD.Control.extend("GMAList",{init:function(a,b){this.options=AD.defaults({dom_listarea:".gmalist-list",notification_selected:null,templateDOM:"//opstools/GMAMatrix/views/GMAList/GMAListDOM.ejs",templateItem:"//opstools/GMAMatrix/views/GMAList/GMAListItem.ejs",title:"List",onAdd:null,onEdit:null,description:null},b);this.dataSource=this.options.dataSource;this.currentItem=
null;this.initDOM();this.loadItems()},clear:function(){this.data()},clearItemList:function(){this.currentItem=null;this.element.find(".gmalist-selected-label").html(this.options.title);this.element.find(this.options.dom_listarea).children().each(function(a,b){b.remove()})},data:function(a){var b=function(a,b){this.id=a;this.value=b||a};b.prototype.getID=function(){return this.id};b.prototype.label=function(){return this.value};if(Array.isArray(a)){for(var c=0;c<a.length;c++)"object"!=typeof a[c]&&
(a[c]=new b(a[c]));this.dataSource=a}else for(c in this.dataSource=[],a)this.dataSource.push(new b(c,a[c]));this.loadItems()},initDOM:function(){this.element.html(can.view(this.options.templateDOM,{title:this.options.title,description:this.options.description}));this.button={};this.button.add=this.element.find(".gmalist-button-add");this.options.onAdd?this.button.add.click(this.options.onAdd):this.button.add.hide();this.button.edit=this.element.find(".gmalist-button-edit");this.options.onEdit?this.button.edit.click(this.options.onEdit):
this.button.edit.hide()},resize:function(a){this.element.find(".gmalist-widget-inner").css("height",a+"px");var b=this.element.find(".opsportal-widget-masthead").outerHeight(!0);this.element.find(".opsportal-nav-list").css("height",a-b-5+"px");this.element.find(".gmalist-widget-inner").css("padding-top",b+5+"px")},loadItem:function(a,b){var c=this;b||(b=this.element.find(this.options.dom_listarea));var d=can.view(this.options.templateItem,{item:a});b[0].appendChild(d);b.find("[gma-list-del-id="+a.getID()+
"]").data("ad-model",a);a.bind&&function(a){a.bind("change",function(b,d){"destroyed"==d&&c.element.find("[gma-list-del-id="+a.id+"]").remove()})}(a,d)},loadItems:function(){var a=this.element.find(this.options.dom_listarea);this.clearItemList();if(this.dataSource)for(var b=0;b<this.dataSource.length;b++)this.loadItem(this.dataSource[b],a)},getCurrentItem:function(){return this.currentItem},setCurrentItemByID:function(a,b){if(!this.currentItem||this.currentItem.getID()!=a)for(var c=0;c<this.dataSource.length;c++)this.dataSource[c].getID()==
a&&this.setCurrentItem(this.element.find("li[gma-list-del-id='"+a+"']"),b)},setCurrentItem:function(a,b){this.element.find(".gmalist-active").each(function(a,b){$(b).removeClass("gmalist-active gmalist-active-object")});a.addClass("gmalist-active");a.addClass("gmalist-active-object");var c=a.data("ad-model"),d=c.label();this.element.find(".gmalist-selected-label").html(d);this.currentItem=c;b||(this.options.notification_selected&&AD.comm.hub.publish(this.options.notification_selected,{model:c}),this.element.trigger("item-selected",
[{model:c}]))},"li.gmalist-item click":function(a,b){this.setCurrentItem(a,!1);b.preventDefault()}})});steal.executed("opstools/GMAMatrix/controllers/GMAList.js");
steal("appdev",function(){"undefined"==typeof AD.classes.gmamatrix&&(AD.classes.gmamatrix={});AD.classes.gmamatrix.GMAMeasurement=can.Construct.extend({measurements:function(a,b){var c=AD.sal.Deferred();AD.comm.service.get({url:"/opstool-gmaMatrix/gmamatrix/measurements",data:{reportId:a}}).then(function(a){var e={},f;for(f in a){e[f]=[];for(var g=a[f],h=0;h<g.length;h++)e[f].push(new AD.classes.gmamatrix.GMAMeasurement(g[h]))}b&&b(null,e);c.resolve(e)}).fail(function(a){b&&b(a);c.reject(a)});return c}},
{init:function(a){var a=AD.defaults({reportId:-1,measurementId:-1,measurementName:"?measurementName?",measurementDescription:"?measurementDescription",measurementValue:-1},a),b;for(b in a)this[b]=a[b];this.placementObj=this.reportObj=null;this.isDirty=false},description:function(){return this.measurementDescription},getID:function(){return this.measurementId},label:function(){return this.measurementName},lmiDefinition:function(a){this.lmiObj=a},placement:function(){return this.placementObj?this.placementObj:
this.reportObj.placementForMeasurement(this)},createPlacement:function(a){a=a||{};this.placementObj=new AD.classes.gmamatrix.GMAPlacement({measurementId:this.getID(),reportId:a.reportId,nodeId:a.nodeId});return this},setPlacement:function(a){this.placementObj=a;return this},setReport:function(a){this.reportObj=a;this.reportId=a.getID();return this},setValue:function(a){if(this.measurementValue!=a){this.measurementValue=a;this.isDirty=true}return this},value:function(){return this.measurementValue},
save:function(){var a=AD.sal.Deferred(),b=this;this.isDirty?AD.comm.service.post({url:"/opstool-gmaMatrix/gmamatrix/measurement/"+this.measurementId,data:{reportId:this.reportId,value:this.measurementValue}}).done(function(){b.isDirty=false;a.resolve()}).fail(function(b){console.log(b);a.reject(b)}):a.resolve();return a}})});steal.executed("opstools/GMAMatrix/classes/GMAMeasurement.js");
steal("appdev",function(){"undefined"==typeof AD.classes.gmamatrix&&(AD.classes.gmamatrix={});AD.classes.gmamatrix.GMAPlacement=can.Construct.extend({placements:function(a,b){var c=AD.sal.Deferred(),d=["reportId","nodeId","measurementId"],e={},f;for(f in a)d.indexOf(f)>=0&&(e[f]=a[f]);AD.comm.service.get({url:"/opstool-gmaMatrix/gmamatrix/placements",data:e}).then(function(a){for(var d=[],e=0;e<a.length;e++)d.push(new AD.classes.gmamatrix.GMAPlacement(a[e]));b&&b(null,d);c.resolve(d)}).fail(function(a){b&&
b(a);c.reject(a)});return c}},{init:function(a){var a=AD.defaults({id:1,reportId:-1,nodeId:-1,measurementId:-1,matrixLocation:"??",order:-1,type:"staff"},a),b={measurement_id:"measurementId",node_id:"nodeId",report_id:"reportId",location:"matrixLocation",id:"id",order:"order",type:"type"},c;for(c in a)this[b[c]||c]=a[c];this.reportObj=null;this.isDirty=false},getID:function(){return this.id},label:function(){return this.name},location:function(){return this.matrixLocation},setReport:function(a){if(this.reportObj!=
a){this.reportObj=a;this.reportId=a.getID();this.isDirty=true}return this},setLocation:function(a){if(this.matrixLocation!=a){this.matrixLocation=a;this.isDirty=true}return this},setType:function(a){if(a&&this.type!=a){this.type=a;this.isDirty=true}return this},save:function(){var a=AD.sal.Deferred();this.isDirty?AD.comm.service.put({url:"/opstool-gmaMatrix/gmamatrix/placements/"+this.measurementId,params:{reportId:this.reportId,nodeId:this.nodeId,type:this.type,location:this.matrixLocation}}).done(function(){this.isDirty=
false;a.resolve()}).fail(function(b){console.log(b);a.reject(b)}):a.resolve();return a}})});steal.executed("opstools/GMAMatrix/classes/GMAPlacement.js");
steal("appdev","opstools/GMAMatrix/classes/GMAMeasurement.js","opstools/GMAMatrix/classes/GMAPlacement.js",function(){"undefined"==typeof AD.classes.gmamatrix&&(AD.classes.gmamatrix={});AD.classes.gmamatrix.GMAReport=can.Construct.extend({reports:function(a,b){var c=AD.sal.Deferred();AD.comm.service.get({url:"/opstool-gmaMatrix/gmamatrix/reports",data:{nodeId:a}}).then(function(a){for(var e=[],f=0;f<a.length;f++)e.push(new AD.classes.gmamatrix.GMAReport(a[f]));b&&b(null,e);c.resolve(e)}).fail(function(a){a.message.match(/Invalid PGTIOU/)&&
AD.comm.hub.publish("ad.auth.reauthenticate",{});b&&b(a);c.reject(a)});return c}},{init:function(a){var a=AD.defaults({reportId:-1,nodeId:-1,nodeName:"?nodeName?",startDate:"yyyy-mm-dd",endDate:"yyyy-mm-dd"},a),b;for(b in a)this[b]=a[b];this.data={};this.data.measurements=null;this.data.placements=null},getID:function(){return this.reportId},getNodeID:function(){return this.nodeId},label:function(){return this.startDate+" \u2014 "+this.endDate},measurements:function(){var a=this,b=AD.sal.Deferred();
this.data.measurements==null?AD.classes.gmamatrix.GMAMeasurement.measurements(this.getID()).then(function(c){a.data.measurements=c;for(var d in c)for(var e=c[d],f=0;f<e.length;f++)e[f].setReport(a);b.resolve(c)}).fail(function(a){b.reject(a)}):b.resolve(this.data.measurements);return b},placements:function(){var a=this,b=AD.sal.Deferred();this.data.placements==null?AD.classes.gmamatrix.GMAPlacement.placements({nodeId:this.getNodeID()}).then(function(c){for(var d={},e=0;e<c.length;e++){var f=c[e].measurementId;
c[e].setReport(a);d[f]=c[e]}for(var g in a.data.measurements)for(var e=a.data.measurements[g],h=0;h<e.length;h++){f=e[h].getID();d[f]?e[h].setPlacement(d[f]):e[h].createPlacement({reportId:a.reportId,nodeId:a.nodeId})}a.data.placements=d;b.resolve(c)}).fail(function(a){b.reject(a)}):b.resolve(this.data.placements);return b},measurementsWithoutPlacements:function(a){var a=this.data.measurements[a],b=[];if(a)for(var c=0;c<a.length;c++)this.data.placements[a[c].getID()]||b.push(a[c]);return b},placementForMeasurement:function(a){return this.data.placements[a.getID()]}})});
steal.executed("opstools/GMAMatrix/classes/GMAReport.js");
steal("appdev","//opstools/GMAMatrix/classes/GMAReport.js",function(){"undefined"==typeof AD.classes.gmamatrix&&(AD.classes.gmamatrix={});AD.classes.gmamatrix.GMAAssignment=can.Construct.extend({assignments:function(a){var b=AD.sal.Deferred();AD.comm.service.get({url:"/opstool-gmaMatrix/gmamatrix/assignments"}).then(function(c){for(var d=[],e=0;e<c.length;e++)d.push(new AD.classes.gmamatrix.GMAAssignment(c[e]));a&&a(null,d);b.resolve(d)}).fail(function(c){c.message.match(/Invalid PGTIOU/)&&AD.comm.hub.publish("ad.auth.reauthenticate",
{});a&&a(c);b.reject(c)});return b}},{init:function(a){var a=AD.defaults({nodeId:-1,nodeName:"?nodeName?"},a),b;for(b in a)this[b]=a[b];this.data={};this.data.reports=null},getID:function(){return this.nodeId},label:function(){return this.nodeName},reports:function(){var a=this,b=AD.sal.Deferred();this.data.reports==null?AD.classes.gmamatrix.GMAReport.reports(this.getID()).then(function(c){a.data.reports=c;b.resolve(c)}).fail(function(a){b.reject(a)}):b.resolve(this.data.reports);return b}})});steal.executed("opstools/GMAMatrix/classes/GMAAssignment.js");
steal("can/view/ejs",function(a){return a.view.preload("opstools_GMAMatrix_views_AssignmentList_AssignmentList_ejs",a.EJS(function(a,c){with(c)with(a){var d=[];d.push('<\!-- Sidebar dropdowns for "Dashboard" View --\>\n<div style="height: 809px; padding-top: 83px;" class="genlist-widget-inner opsportal-widget-container">\n\t<div class="opsportal-widget-masthead">\n\t\t<div class="opsportal-widget-title-container">\n\t\t\t<h2 class="opsportal-widget-title">Report Date Range</h2>\n\t\t</div>\t\t\t\n\t\t<div class="opsportal-widget-meta"><p class="opsportal-widget-meta-desc">Select the <em>start</em> and <em>end</em> dates.</p></div>\n\t\t\n\t\t<div id="startreport"></div> \n\t\t<label for="gmamatrix-start-date">Start Date:</label> \n\t\t<input name="gmamatrix-start-date" type="text" id="gmamatrix-start-date">\n\t\t\n\t\t<div id="endreport"></div> \n\t\t<label for="gmamatrix-end-date">End Date:</label> \n\t\t<input name="gmamatrix-end-date" type="text" id="gmamatrix-end-date">\n\t\t\n\t\t\n\t\t<div class="opsportal-widget-title-container opsportal-widget-container-divider">\n\t\t\t<h2 class="opsportal-widget-title">Strategy</h2>\n\t\t</div>\t\t\t\n\t\t<div class="opsportal-widget-meta"><p class="opsportal-widget-meta-desc">Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nam et sodales tellus.</p></div>\n\t\t<div class="btn-group opsportal-btn-full">\n\t\t  <button type="button" class="btn btn-default dropdown-toggle opsportal-btn opsportal-btn-full opsportal-btn-wj" data-toggle="dropdown" style="text-align: left;">\n\t\t    Strategy <span class="caret opsportal-btn-caret"></span>\n\t\t  </button>\n\t\t  <ul class="dropdown-menu" role="menu">\n\t\t    <li><a href="#">Strategy 1</a></li>\n\t\t    <li><a href="#">Strategy 2</a></li>\n\t\t    <li><a href="#">Strategy 3</a></li>\n\t\t  </ul>\n\t\t</div>\n\t\t\n\t\t\n\t\t<div class="opsportal-widget-title-container opsportal-widget-container-divider">\n\t\t\t<h2 class="opsportal-widget-title">Team</h2>\n\t\t</div>\t\t\t\n\t\t<div class="opsportal-widget-meta"><p class="opsportal-widget-meta-desc">Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nam et sodales tellus.</p></div>\n\t\t<div class="btn-group opsportal-btn-full">\n\t\t  <button type="button" class="btn btn-default dropdown-toggle opsportal-btn opsportal-btn-full opsportal-btn-wj" data-toggle="dropdown" style="text-align: left;">\n\t\t    Reporting Period <span class="caret opsportal-btn-caret"></span>\n\t\t  </button>\n\t\t  <ul class="dropdown-menu" role="menu">\n\t\t    <li><a href="#">Reporting Period 1</a></li>\n\t\t    <li><a href="#">Reporting Period 2</a></li>\n\t\t    <li><a href="#">Reporting Period 3</a></li>\n\t\t  </ul>\n\t\t</div>\n\t\t\n\t</div>\n\t\n</div>\n<\!-- Sidebar dropdowns for "Entry" and "Layout" views --\>\n<\!-- \n<div style="height: 809px; padding-top: 83px;" class="genlist-widget-inner opsportal-widget-container">\n\t<div class="opsportal-widget-masthead">\n\t\t<div class="opsportal-widget-title-container">\n\t\t\t<h2 class="opsportal-widget-title">Assignments</h2>\n\t\t</div>\t\t\t\n\t\t<div class="opsportal-widget-meta"><p class="opsportal-widget-meta-desc">Choose the GMA nodes you are allowed to report on.</p></div>\n\t\t\n\t\t<div class="btn-group opsportal-btn-full">\n\t\t  <button type="button" class="btn btn-default dropdown-toggle opsportal-btn opsportal-btn-full opsportal-btn-wj" data-toggle="dropdown" style="text-align: left;">\n\t\t    Assignment <span class="caret opsportal-btn-caret"></span>\n\t\t  </button>\n\t\t  <ul class="dropdown-menu" role="menu">\n\t\t    <li><a href="#">Assignment 1</a></li>\n\t\t    <li><a href="#">Assignment 2</a></li>\n\t\t    <li><a href="#">Assignment 3</a></li>\n\t\t  </ul>\n\t\t</div>\n\t\t\n\t\t\n\t\t<div class="opsportal-widget-title-container opsportal-widget-container-divider">\n\t\t\t<h2 class="opsportal-widget-title">Strategy</h2>\n\t\t</div>\t\t\t\n\t\t<div class="opsportal-widget-meta"><p class="opsportal-widget-meta-desc">Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nam et sodales tellus.</p></div>\n\t\t<div class="btn-group opsportal-btn-full">\n\t\t  <button type="button" class="btn btn-default dropdown-toggle opsportal-btn opsportal-btn-full opsportal-btn-wj" data-toggle="dropdown" style="text-align: left;">\n\t\t    Strategy <span class="caret opsportal-btn-caret"></span>\n\t\t  </button>\n\t\t  <ul class="dropdown-menu" role="menu">\n\t\t    <li><a href="#">Strategy 1</a></li>\n\t\t    <li><a href="#">Strategy 2</a></li>\n\t\t    <li><a href="#">Strategy 3</a></li>\n\t\t  </ul>\n\t\t</div>\n\t\t\n\t\t\n\t\t<div class="opsportal-widget-title-container opsportal-widget-container-divider">\n\t\t\t<h2 class="opsportal-widget-title">Reporting Period</h2>\n\t\t</div>\t\t\t\n\t\t<div class="opsportal-widget-meta"><p class="opsportal-widget-meta-desc">Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nam et sodales tellus.</p></div>\n\t\t<div class="btn-group opsportal-btn-full">\n\t\t  <button type="button" class="btn btn-default dropdown-toggle opsportal-btn opsportal-btn-full opsportal-btn-wj" data-toggle="dropdown" style="text-align: left;">\n\t\t    Reporting Period <span class="caret opsportal-btn-caret"></span>\n\t\t  </button>\n\t\t  <ul class="dropdown-menu" role="menu">\n\t\t    <li><a href="#">Reporting Period 1</a></li>\n\t\t    <li><a href="#">Reporting Period 2</a></li>\n\t\t    <li><a href="#">Reporting Period 3</a></li>\n\t\t  </ul>\n\t\t</div>\n\t\t\n\t</div>\n\t\n</div>\n--\>');
return d.join("")}}))});steal.executed("opstools/GMAMatrix/views/AssignmentList/AssignmentList.ejs");
steal("appdev","opstools/GMAMatrix/controllers/GMAList.js","opstools/GMAMatrix/classes/GMAAssignment.js","//opstools/GMAMatrix/views/AssignmentList/AssignmentList.ejs",function(){AD.Control.extend("opstools.GMAMatrix.AssignmentList",{defaults:{}},{init:function(a,b){this.options=b=AD.defaults({templateDOM:"//opstools/GMAMatrix/views/AssignmentList/AssignmentList.ejs"},b);AD.classes.UIController.apply(this,arguments);this.dataSource=this.options.dataSource;this.initDOM()},setData:function(a){this.dataSource=
a;this.list.data(a)},setSelectedItem:function(a){this.list.setCurrentItemByID(a,!0)},initDOM:function(){this.list=new AD.controllers.GMAList(this.element,{title:"Team",description:"Choose the GMA nodes you are allowed to report on.",notification_selected:"gmamatrix.assignment.selected",onAdd:function(){self.addItem()}})},show:function(){this.element.show()},hide:function(){this.element.hide()}})});steal.executed("opstools/GMAMatrix/controllers/AssignmentList.js");
steal("can/view/ejs",function(a){return a.view.preload("opstools_GMAMatrix_views_StrategyList_StrategyList_ejs",a.EJS(function(a,c){with(c)with(a){var d=[];d.push('<\!-- Split button --\>\n<\!--  To Fix, we want a spiffy Bootstrap drop button:\n<div class="btn-group dropdown">\n  <button type="button" class="btn btn-danger gmamatrix-report-reportlist-name">Report</button>\n  <button type="button" class="btn btn-danger dropdown-toggle" data-toggle="dropdown">\n    <span class="caret"></span>\n    <span class="sr-only">Toggle Dropdown</span>\n  </button>\n  <ul class="dropdown-menu" role="menu">\n    <li><a href="#">Action</a></li>\n    <li><a href="#">Another action</a></li>\n    <li><a href="#">Something else here</a></li>\n    <li class="divider"></li>\n    <li><a href="#">Separated link</a></li>\n  </ul>\n</div>\n--\>\n    <span class="gmamatrix-report-strategylist-name">Strategy:</span>\n    <select class="form-control tt-field gmamatrix-report-strategylist-items" name="strategyList" data-original-title="" title="">\n    </select>');
return d.join("")}}))});steal.executed("opstools/GMAMatrix/views/StrategyList/StrategyList.ejs");
steal("appdev","//opstools/GMAMatrix/views/StrategyList/StrategyList.ejs",function(){AD.Control.extend("opstools.GMAMatrix.StrategyList",{defaults:{busy:function(){}}},{init:function(a,b){var c=this;this.options=AD.defaults({templateDOM:"//opstools/GMAMatrix/views/StrategyList/StrategyList.ejs"},b);AD.classes.UIController.apply(this,arguments);this.dataSource=this.itemContent=null;this.initDOM();AD.comm.hub.subscribe("gmamatrix.strategies.loaded",function(a,b){AD.sal.setImmediate(function(){c.data(b.strategies)})})},
chooseDefault:function(){0<this.dataSource.length&&this.itemContent.val(this.dataSource[0]).change()},clearData:function(){this.itemContent.children().remove()},createContent:function(){for(var a=0;a<this.dataSource.length;a++)this.createItem(this.dataSource[a])},createItem:function(a){this.itemContent.append(can.view(this.options.templateItem,{item:a}));this.itemContent.find('[value="'+a+'"]').data("model",{id:a,label:a})},data:function(a){this.list.data(a)},initDOM:function(){this.list=new AD.controllers.GMAList(this.element,
{title:"Strategy",description:"Choose the strategy.",notification_selected:"gmamatrix.strategy.selected",onAdd:function(){self.addItem()}})},setData:function(a){this.dataSource=a;this.list.data(a)},setSelectedItem:function(a){this.list.setCurrentItemByID(a,!0)},show:function(){this.element.show()},hide:function(){this.element.hide()},"select change":function(a){a=a.find("[value="+a.val()+"]").data("model");AD.comm.hub.publish("gmamatrix.strategy.selected",{strategy:a})}})});steal.executed("opstools/GMAMatrix/controllers/StrategyList.js");
steal("can/view/ejs",function(a){return a.view.preload("opstools_GMAMatrix_views_ReportList_ReportList_ejs",a.EJS(function(a,c){with(c)with(a){var d=[];d.push('<\!-- Split button --\>\n<\!--  To Fix, we want a spiffy Bootstrap drop button: \n<div class="btn-group dropdown">\n  <button type="button" class="btn btn-danger gmamatrix-report-reportlist-name">Report</button>\n  <button type="button" class="btn btn-danger dropdown-toggle" data-toggle="dropdown">\n    <span class="caret"></span>\n    <span class="sr-only">Toggle Dropdown</span>\n  </button>\n  <ul class="dropdown-menu" role="menu">\n    <li><a href="#">Action</a></li>\n    <li><a href="#">Another action</a></li>\n    <li><a href="#">Something else here</a></li>\n    <li class="divider"></li>\n    <li><a href="#">Separated link</a></li>\n  </ul>\n</div>\n--\>\n    <span class="gmamatrix-report-reportlist-name">Reports:</span>\n    <select class="form-control tt-field gmamatrix-report-reportlist-items" name="reportList" data-original-title="" title="">\n    </select>');
return d.join("")}}))});steal.executed("opstools/GMAMatrix/views/ReportList/ReportList.ejs");
steal("appdev","opstools/GMAMatrix/classes/GMAReport.js","//opstools/GMAMatrix/views/ReportList/ReportList.ejs",function(){AD.Control.extend("opstools.GMAMatrix.ReportList",{defaults:{}},{init:function(a,b){this.options=b=AD.defaults({templateDOM:"//opstools/GMAMatrix/views/ReportList/ReportList.ejs"},b);AD.classes.UIController.apply(this,arguments);this.itemContent=null;this.dataSource=this.options.dataSource;this.initDOM()},chooseDefault:function(){for(var a=-1,b=null,c=0;c<this.dataSource.length;c++){var d=
new Date(this.dataSource[c].startDate);d>a&&(a=d,b=this.dataSource[c])}this.itemContent.val(b.getID()).change()},clearData:function(){this.itemContent.children().remove()},createContent:function(){for(var a=0;a<this.dataSource.length;a++)this.createItem(this.dataSource[a])},createItem:function(a){this.itemContent.append(can.view(this.options.templateItem,{item:a}));this.itemContent.find('[value="'+a.getID()+'"]').data("model",a)},data:function(a){this.list.data(a)},initDOM:function(){this.list=new AD.controllers.GMAList(this.element,
{title:"Reports",description:"Choose the reporting period.",notification_selected:"gmamatrix.report.selected",onAdd:function(){self.addItem()}})},show:function(){this.element.show()},hide:function(){this.element.hide()},"select change":function(a){a=a.find("[value="+a.val()+"]").data("model");AD.comm.hub.publish("gmamatrix.report.selected",{report:a})}})});steal.executed("opstools/GMAMatrix/controllers/ReportList.js");
steal("appdev",function(){"undefined"==typeof AD.classes.gmamatrix&&(AD.classes.gmamatrix={});AD.classes.gmamatrix.GMALMIDefinition=can.Construct.extend({definitions:function(a){var b=AD.sal.Deferred();AD.comm.service.get({url:"/opstool-gmaMatrix/gmamatrix/lmidefs"}).then(function(c){for(var d=[],e=0;e<c.length;e++)d.push(new AD.classes.gmamatrix.GMALMIDefinition(c[e]));a&&a(null,d);b.resolve(d)}).fail(function(c){a&&a(c);b.reject(c)});return b}},{init:function(a){this.data=a=AD.defaults({id:-1,name:"??",
definition:"??",summaryType:"??",inputType:"??",chartLocation:"??",locationKey:"??"},a)},definition:function(){return this.data.definition},getID:function(){return this.data.id},key:function(){return this.data.locationKey},label:function(){return this.data.name},placement:function(){return this.data.chartLocation}})});steal.executed("opstools/GMAMatrix/classes/GMALMIDefinition.js");
steal("can/view/ejs",function(a){return a.view.preload("opstools_GMAMatrix_views_LMIDefinition_LMIDefinition_ejs",a.EJS(function(b,c){with(c)with(b){var d=[];d.push('<\!-- <div class="gmamatrix-stage-lmi-');d.push(a.view.txt(1,"div","class",this,function(){return item.key()}));d.push('-content"',a.view.pending(),">");d.push(" LMI Definition ");d.push(a.view.txt(1,"div",0,this,function(){return item.label()}));d.push("</div> --\>\n<h5>");d.push(a.view.txt(1,"h5",0,this,function(){return item.label()}));
d.push('</h5>\n<ul class="gmamatrix-li-form" id="gmamatrix-lmi-');d.push(a.view.txt(1,"ul","id",this,function(){return item.key()}));d.push('"',a.view.pending(),">");d.push("\n</ul>\n");return d.join("")}}))});steal.executed("opstools/GMAMatrix/views/LMIDefinition/LMIDefinition.ejs");
steal("appdev","//opstools/GMAMatrix/views/LMIDefinition/LMIDefinition.ejs",function(){AD.Control.extend("opstools.GMAMatrix.LMIDefinition",{init:function(a,b){this.options=b=AD.defaults({templateDOM:"//opstools/GMAMatrix/views/LMIDefinition/LMIDefinition.ejs"},b);AD.classes.UIController.apply(this,arguments);this.dataSource=this.options.dataSource;this.initDOM()},addMeasurement:function(a){a.lmiDefinition(this.options.definition);var b="gmamatrix-measurement-div-"+a.getID(),c=this.element.find(".gmamatrix-li-form"),
b=$('<li class="'+b+'" ></li>');c.append(b);new AD.controllers.opstools.GMAMatrix.Measurement(b,{measurement:a})},initDOM:function(){this.element.html(can.view(this.options.templateDOM,{item:this.options.definition}))},".ad-item-add click":function(a,b){b.preventDefault()}})});steal.executed("opstools/GMAMatrix/controllers/LMIDefinition.js");
steal("can/view/ejs",function(a){return a.view.preload("opstools_GMAMatrix_views_Measurement_Measurement_ejs",a.EJS(function(b,c){with(c)with(b){var d=[];d.push('\n    <div class="row input-group gmamatrix-lmi-input">\n        <div class="col-xs-9" title="');d.push(a.view.txt(1,"div","title",this,function(){return item.description()}));d.push('"',a.view.pending(),">");d.push('\n            <label for="measurement-');d.push(a.view.txt(1,"label","for",this,function(){return item.getID()}));d.push('"',
a.view.pending(),">");d.push(a.view.txt(1,"label",0,this,function(){return item.label()}));d.push('</label>\n        </div>\n        <div class="col-xs-3">\n            <input type="text" class="form-control" id="measurement-');d.push(a.view.txt(1,"input","id",this,function(){return item.getID()}));d.push('" maxlength="2" value="');d.push(a.view.txt(1,"input","value",this,function(){return item.value()}));d.push('"',a.view.pending(),">");d.push("\n        </div>\n    </div>\n");return d.join("")}}))});
steal.executed("opstools/GMAMatrix/views/Measurement/Measurement.ejs");
steal("appdev","//opstools/GMAMatrix/views/Measurement/Measurement.ejs",function(){AD.Control.extend("opstools.GMAMatrix.Measurement",{init:function(a,b){var c=this;this.options=b=AD.defaults({saveDelay:3E3,templateDOM:"//opstools/GMAMatrix/views/Measurement/Measurement.ejs",measurement:{}},b);AD.classes.UIController.apply(this,arguments);this.initDOM();this.timer=null;this.subscriptions=[];this.subscriptions.push(AD.comm.hub.subscribe("gmamatrix.measurements.clear",function(){AD.sal.setImmediate(function(){c.remove()})}))},
initDOM:function(){this.element.html(can.view(this.options.templateDOM,{item:this.options.measurement}))},save:function(){this.options.measurement.save()},delayedSave:function(){var a=this;a.timer&&clearTimeout(a.timer);a.timer=setTimeout(function(){a.save()},a.options.saveDelay)},value:function(a){void 0!=typeof a&&this.options.measurement.setValue(a);return this.options.measurement.value()},remove:function(){if(this.element){this.element.remove();for(var a=0;a<this.subscriptions.length;a++)AD.comm.hub.unsubscribe(this.subscriptions[a]);
this.subscriptions=[]}},"input change":function(a){this.value(a.val());this.delayedSave()}})});steal.executed("opstools/GMAMatrix/controllers/Measurement.js");
steal("can/view/ejs",function(a){return a.view.preload("opstools_GMAMatrix_views_NotPlacedList_NotPlacedList_ejs",a.EJS(function(a,c){with(c)with(a){var d=[];d.push('<div class="panel panel-default">\n    <div class="panel-heading">\n        <a class="ad-item-add btn btn-default" href="#">Add</a>\n        <a class="ad-item-delete btn btn-default" style="float:right" href="#">Delete</a>\n    </div>\n    <div class="panel-body">\n        <div class="well" >Content for NotPlacedList</div>\n    </div>\n</div>');return d.join("")}}))});
steal.executed("opstools/GMAMatrix/views/NotPlacedList/NotPlacedList.ejs");
steal("appdev","//opstools/GMAMatrix/views/NotPlacedList/NotPlacedList.ejs",function(){AD.Control.extend("opstools.GMAMatrix.NotPlacedList",{init:function(a,b){this.options=b=AD.defaults({templateDOM:"//opstools/GMAMatrix/views/NotPlacedList/NotPlacedList.ejs"},b);AD.classes.UIController.apply(this,arguments);this.dataSource=this.options.dataSource;this.initDOM()},addMeasurement:function(a){a.lmiDefinition(this.options.definition);var b="gmamatrix-measurement-div-"+a.getID();this.element.append($('<div class="'+
b+'" ></div>'));new AD.controllers.opstools.GMAMatrix.Measurement(this.element.find("."+b),{measurement:a})},initDOM:function(){this.element.html(can.view(this.options.templateDOM,{}))},".ad-item-add click":function(a,b){b.preventDefault()}})});steal.executed("opstools/GMAMatrix/controllers/NotPlacedList.js");
steal("can/view/ejs",function(a){return a.view.preload("opstools_GMAMatrix_views_GMAStage_GMAStage-Entry_ejs",a.EJS(function(a,c){with(c)with(a){var d=[];d.push('\t\n\t<\!-- Entry mode --\>\n\t<div class="row">\n\t\t<div class="col-xs-12">\n\t\t\t<div class="gmamatrix-container-grid">\n\t\t\t<div class="row">\n\t\t\t\t<div class="col-xs-2"></div>\n\t\t\t\t<div class="col-xs-10">\n\t\t\t\t\t<div class="row">\n\t\t\t\t\t\t<div class="col-xs-4 gmamatrix-grid-bb"><h4>Faith Actions</h4></div>\n\t\t\t\t\t\t<div class="col-xs-4 gmamatrix-grid-bb"><h4>Fruits</h4></div>\n\t\t\t\t\t\t<div class="col-xs-4 gmamatrix-grid-bb"><h4>Outcome</h4></div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div class="row">\n\t\t\t\t<div class="col-xs-2"><a href="#" class="opsportal-filter-tag filter-on opsportal-showhide gmamatrix-showhide" lmikey="win"><i class="fa fa-minus"></i><h4>Win</h4></a></div>\n\t\t\t\t<div class="col-xs-10 gmamatrix-grid-bl">\n\t\t\t\t\t<div class="row" lmirow="win">\n\t\t\t\t\t\t<div class="col-xs-4">\n\t\t\t\t\t\t\t<div class="gmamatrix-container" key="etmm">\n\t\t\t\t\t\t\t\t<h5>Exposing through mass means</h5>\n\t\t\t\t\t\t\t\t<ul class="gmamatrix-li-form" id="gmamatrix-lmi-1">\n\t\t\t\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t\t\t\t<div class="row input-group gmamatrix-lmi-input">\n\t\t\t\t\t\t\t\t\t\t\t<div class="col-xs-9"><label for="category-1">Mass Exposure</label></div>\n\t\t\t\t\t\t\t\t\t\t\t<div class="col-xs-3"><input type="text" class="form-control" id="category-1" maxlength="2"></div>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t\t\t\t<div class="row input-group gmamatrix-lmi-input">\n\t\t\t\t\t\t\t\t\t\t\t<div class="col-xs-9"><label for="category-2">Gospel conversation (staff)</label></div>\n\t\t\t\t\t\t\t\t\t\t\t<div class="col-xs-3"><input type="text" class="form-control" id="category-2" maxlength="2"></div>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t\t\t\t<div class="row input-group gmamatrix-lmi-input">\n\t\t\t\t\t\t\t\t\t\t\t<div class="col-xs-9"><label for="category-3">Gospel conversations (non-staff)</label></div>\n\t\t\t\t\t\t\t\t\t\t\t<div class="col-xs-3"><input type="text" class="form-control" id="category-3" maxlength="2"></div>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t\t</ul>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div class="gmamatrix-container" key="igc">\n\t\t\t\t\t\t\t\t<h5>Initiating Gospel Conversations</h5>\n\t\t\t\t\t\t\t\t<ul class="gmamatrix-li-form">\n\t\t\t\t\t\t\t\t</ul>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div class="gmamatrix-container" key="ptg">\n\t\t\t\t\t\t\t\t<h5>Presenting the Gospel</h5>\n\t\t\t\t\t\t\t\t<ul class="gmamatrix-li-form" id="gmamatrix-lmi-3">\n\t\t\t\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t\t\t\t<div class="row input-group gmamatrix-lmi-input">\n\t\t\t\t\t\t\t\t\t\t\t<div class="col-xs-9"><label for="category-1">Gospel Presentations (Staff)</label></div>\n\t\t\t\t\t\t\t\t\t\t\t<div class="col-xs-3"><input type="text" class="form-control" id="category-1" maxlength="2"></div>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t\t\t\t<div class="row input-group gmamatrix-lmi-input">\n\t\t\t\t\t\t\t\t\t\t\t<div class="col-xs-9"><label for="category-8">Gospel Presentations (Non-Staff)</label></div>\n\t\t\t\t\t\t\t\t\t\t\t<div class="col-xs-3"><input type="text" class="form-control" id="category-8" maxlength="2"></div>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t\t</ul>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class="col-xs-4">\n\t\t\t\t\t\t\t<div class="gmamatrix-container" key="npb">\n\t\t\t\t\t\t\t\t<h5>New Professing believers</h5>\n\t\t\t\t\t\t\t\t<ul class="gmamatrix-li-form" id="gmamatrix-lmi-4">\n\t\t\t\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t\t\t\t<div class="row input-group gmamatrix-lmi-input">\n\t\t\t\t\t\t\t\t\t\t\t<div class="col-xs-9"><label for="category-1">Category 1</label></div>\n\t\t\t\t\t\t\t\t\t\t\t<div class="col-xs-3"><input type="text" class="form-control" id="category-1" maxlength="2"></div>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t\t\t\t<div class="row input-group gmamatrix-lmi-input">\n\t\t\t\t\t\t\t\t\t\t\t<div class="col-xs-9"><label for="category-8">Category 8</label></div>\n\t\t\t\t\t\t\t\t\t\t\t<div class="col-xs-3"><input type="text" class="form-control" id="category-8" maxlength="2"></div>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t\t</ul>\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class="col-xs-4">\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div class="row">\n\t\t\t\t<div class="col-xs-2"><a href="#" class="opsportal-filter-tag filter-on opsportal-showhide gmamatrix-showhide" lmikey="build"><i class="fa fa-minus"></i><h4>Build</h4></a></div>\n\t\t\t\t<div class="col-xs-10 gmamatrix-grid-bl">\n\t\t\t\t\t<div class="row" lmirow="build">\n\t\t\t\t\t\t<div class="col-xs-4">\n\t\t\t\t\t\t\t<div class="gmamatrix-container" key="fu">\n\t\t\t\t\t\t\t\t<h5>Following up</h5>\n\t\t\t\t\t\t\t\t<ul class="gmamatrix-li-form" id="gmamatrix-lmi-5">\n\t\t\t\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t\t\t\t<div class="row input-group gmamatrix-lmi-input">\n\t\t\t\t\t\t\t\t\t\t\t<div class="col-xs-9"><label for="category-1">Following Up (Staff)</label></div>\n\t\t\t\t\t\t\t\t\t\t\t<div class="col-xs-3"><input type="text" class="form-control" id="category-1" maxlength="2"></div>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t\t\t\t<div class="row input-group gmamatrix-lmi-input">\n\t\t\t\t\t\t\t\t\t\t\t<div class="col-xs-9"><label for="category-8">Following Up (Non-Staff)</label></div>\n\t\t\t\t\t\t\t\t\t\t\t<div class="col-xs-3"><input type="text" class="form-control" id="category-8" maxlength="2"></div>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t\t</ul>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div class="gmamatrix-container" key="pths">\n\t\t\t\t\t\t\t\t<h5>Presenting the Holy Spirit</h5>\n\t\t\t\t\t\t\t\t<ul class="gmamatrix-li-form" id="gmamatrix-lmi-6">\n\t\t\t\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t\t\t\t<div class="row input-group gmamatrix-lmi-input">\n\t\t\t\t\t\t\t\t\t\t\t<div class="col-xs-9"><label for="category-2">HS Presentations (Staff)</label></div>\n\t\t\t\t\t\t\t\t\t\t\t<div class="col-xs-3"><input type="text" class="form-control" id="category-2" maxlength="2"></div>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t\t\t\t<div class="row input-group gmamatrix-lmi-input">\n\t\t\t\t\t\t\t\t\t\t\t<div class="col-xs-9"><label for="category-8">HS Presentations (Non-Staff)</label></div>\n\t\t\t\t\t\t\t\t\t\t\t<div class="col-xs-3"><input type="text" class="form-control" id="category-8" maxlength="2"></div>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t\t</ul>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class="col-xs-4">\n\t\t\t\t\t\t\t<div class="gmamatrix-container" key="ed">\n\t\t\t\t\t\t\t\t<h5>Engaged disciples</h5>\n\t\t\t\t\t\t\t\t<ul class="gmamatrix-li-form" id="gmamatrix-lmi-7">\n\t\t\t\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t\t\t\t<div class="row input-group gmamatrix-lmi-input">\n\t\t\t\t\t\t\t\t\t\t\t<div class="col-xs-9"><label for="category-6">Category 6</label></div>\n\t\t\t\t\t\t\t\t\t\t\t<div class="col-xs-3"><input type="text" class="form-control" id="category-6" maxlength="2"></div>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t\t</ul>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class="col-xs-4">\n\t\t\t\t\t\t\t<div class="gmamatrix-container" key="mp">\n\t\t\t\t\t\t\t\t<h5>Movement Progress</h5>\n\t\t\t\t\t\t\t\t<ul class="gmamatrix-li-form" id="gmamatrix-lmi-8">\n\t\t\t\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t\t\t\t<div class="row input-group gmamatrix-lmi-input">\n\t\t\t\t\t\t\t\t\t\t\t<div class="col-xs-9"><label for="category-5">Category 5</label></div>\n\t\t\t\t\t\t\t\t\t\t\t<div class="col-xs-3"><input type="text" class="form-control" id="category-5" maxlength="2"></div>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t\t\t\t<div class="row input-group gmamatrix-lmi-input">\n\t\t\t\t\t\t\t\t\t\t\t<div class="col-xs-9"><label for="category-6">Category 6</label></div>\n\t\t\t\t\t\t\t\t\t\t\t<div class="col-xs-3"><input type="text" class="form-control" id="category-6" maxlength="2"></div>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t\t</ul>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div class="row">\n\t\t\t\t<div class="col-xs-2"><a href="#" class="opsportal-filter-tag filter-on opsportal-showhide gmamatrix-showhide" lmikey="send"><i class="fa fa-minus"></i><h4>Send</h4></a></div>\n\t\t\t\t<div class="col-xs-10 gmamatrix-grid-bl">\n\t\t\t\t\t<div class="row" lmirow="send">\n\t\t\t\t\t\t<div class="col-xs-4">\n\t\t\t\t\t\t\t<div class="gmamatrix-container" key="tfa">\n\t\t\t\t\t\t\t\t<h5>Training for action</h5>\n\t\t\t\t\t\t\t\t<ul class="gmamatrix-li-form" id="gmamatrix-lmi-9">\n\t\t\t\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t\t\t\t<div class="row input-group gmamatrix-lmi-input">\n\t\t\t\t\t\t\t\t\t\t\t<div class="col-xs-9"><label for="category-3">Category 3</label></div>\n\t\t\t\t\t\t\t\t\t\t\t<div class="col-xs-3"><input type="text" class="form-control" id="category-3" maxlength="2"></div>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t\t</ul>\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div class="gmamatrix-container" key="sll">\n\t\t\t\t\t\t\t\t<h5>Sending lifetime laborers</h5>\n\t\t\t\t\t\t\t\t<ul class="gmamatrix-li-form" id="gmamatrix-lmi-10">\n\t\t\t\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t\t\t\t<div class="row input-group gmamatrix-lmi-input">\n\t\t\t\t\t\t\t\t\t\t\t<div class="col-xs-9"><label for="category-6">Category 6</label></div>\n\t\t\t\t\t\t\t\t\t\t\t<div class="col-xs-3"><input type="text" class="form-control" id="category-6" maxlength="2"></div>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t\t</ul>\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div class="gmamatrix-container" key="dlr">\n\t\t\t\t\t\t\t\t<h5>Developing local resources</h5>\n\t\t\t\t\t\t\t\t<ul class="gmamatrix-li-form" id="gmamatrix-lmi-11">\n\t\t\t\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t\t\t\t<div class="row input-group gmamatrix-lmi-input">\n\t\t\t\t\t\t\t\t\t\t\t<div class="col-xs-9"><label for="category-11">Category 11</label></div>\n\t\t\t\t\t\t\t\t\t\t\t<div class="col-xs-3"><input type="text" class="form-control" id="category-11" maxlength="2"></div>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t\t\t\t<div class="row input-group gmamatrix-lmi-input">\n\t\t\t\t\t\t\t\t\t\t\t<div class="col-xs-9"><label for="category-12">Category 12</label></div>\n\t\t\t\t\t\t\t\t\t\t\t<div class="col-xs-3"><input type="text" class="form-control" id="category-12" maxlength="2"></div>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t\t</ul>\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class="col-xs-4">\n\t\t\t\t\t\t\t<div class="gmamatrix-container" key="md">\n\t\t\t\t\t\t\t\t<h5>Multiplying disciples</h5>\n\t\t\t\t\t\t\t\t<ul class="gmamatrix-li-form" id="gmamatrix-lmi-12">\n\t\t\t\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t\t\t\t<div class="row input-group gmamatrix-lmi-input">\n\t\t\t\t\t\t\t\t\t\t\t<div class="col-xs-9"><label for="category-16">Category 16</label></div>\n\t\t\t\t\t\t\t\t\t\t\t<div class="col-xs-3"><input type="text" class="form-control" id="category-16" maxlength="2"></div>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t\t\t\t<div class="row input-group gmamatrix-lmi-input">\n\t\t\t\t\t\t\t\t\t\t\t<div class="col-xs-9"><label for="category-17">Category 17</label></div>\n\t\t\t\t\t\t\t\t\t\t\t<div class="col-xs-3"><input type="text" class="form-control" id="category-17" maxlength="2"></div>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t\t</ul>\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class="col-xs-4">\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div class="row" style="padding-bottom: 100px;"> \n\t\t\t<\!-- Need to revisit...why is this row, without the padding-bottom, getting truncated --\>\n\t\t\t\t<div class="col-xs-12 gmamatrix-droppable-other gmamatrix-other">\n\t\t\t\t\t<h4>Other</h4>\n\t\t\t\t\t<ul class="gmamatrix-li-other"></ul>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n</div>\n');return d.join("")}}))});
steal.executed("opstools/GMAMatrix/views/GMAStage/GMAStage-Entry.ejs");
steal("appdev","//opstools/GMAMatrix/classes/GMALMIDefinition.js","//opstools/GMAMatrix/controllers/Measurement.js","//opstools/GMAMatrix/controllers/NotPlacedList.js","//opstools/GMAMatrix/views/GMAStage/GMAStage-Entry.ejs",function(){AD.Control.extend("opstools.GMAMatrix.GMAStage_Entry",{init:function(a,b){this.options=AD.defaults({templateDOM:"//opstools/GMAMatrix/views/GMAStage/GMAStage-Entry.ejs"},b);this.initDOM();this.measurementWidgets=[]},initDOM:function(){this.element.html(can.view(this.options.templateDOM,
{}))},show:function(){this.element.show()},hide:function(){this.element.hide()},addMeasurement:function(a){var b=a.placement().location(),c=$("<li>");this.measurementWidgets.push(new AD.controllers.opstools.GMAMatrix.Measurement(c,{measurement:a}));a=this.element.find("div.gmamatrix-container[key='"+b+"'] ul");1>a.length&&(a=this.element.find("ul.gmamatrix-li-other"));a.append(c)},removeAll:function(){this.element.find("div.gmamatrix-container[key] ul li").remove();this.element.find("ul.gmamatrix-li-other li").remove();
for(var a=0;a<this.measurementWidgets.length;a++)this.measurementWidgets[a].remove();this.measurementWidgets=[]}})});steal.executed("opstools/GMAMatrix/controllers/GMAStage-Entry.js");steal("can/view/ejs",function(a){return a.view.preload("opstools_GMAMatrix_views_Measurement_LayoutMeasurement_ejs",a.EJS(function(b,c){with(c)with(b){var d=[];d.push("\n    ");d.push(a.view.txt(1,"",0,this,function(){return item.label()}));d.push("\n");return d.join("")}}))});steal.executed("opstools/GMAMatrix/views/Measurement/LayoutMeasurement.ejs");
steal("appdev","//opstools/GMAMatrix/views/Measurement/LayoutMeasurement.ejs",function(){AD.Control.extend("opstools.GMAMatrix.LayoutMeasurement",{init:function(a,b){var c=this;this.options=AD.defaults({measurement:null,templateDOM:"//opstools/GMAMatrix/views/Measurement/LayoutMeasurement.ejs",boundaryElement:document.body},b);AD.classes.UIController.apply(this,arguments);this.initDOM();this.subscriptions=[];this.subscriptions.push(AD.comm.hub.subscribe("gmamatrix.measurements.clear",function(){c.clear()}))},
initDOM:function(){this.element.html(can.view(this.options.templateDOM,{item:this.options.measurement}));this.element.attr("title",this.options.measurement.description()||"");this.element.addClass("cat-unassigned");this.element.addClass("gmamatrix-draggable");this.element.attr("measurementId",this.options.measurement.getID());"staff"==this.options.measurement.placement().type?this.element.addClass("staff"):this.element.addClass("disciple");this.element.draggable({stack:".gmamatrix-draggable",cursor:"move",
cursorAt:{top:16,left:55},scroll:!0,revert:!0,revertDuration:1,helper:"clone",opacity:0.7,zIndex:100,containment:this.options.boundaryElement,appendTo:this.options.boundaryElement})},savePlacement:function(a,b){this.options.measurement.placement().setLocation(a).setType(b).save()},clear:function(){this.element&&this.element.remove();for(var a=0;a<this.subscriptions.length;a++)AD.comm.hub.unsubscribe(this.subscriptions[a]);this.subscriptions=[]}})});steal.executed("opstools/GMAMatrix/controllers/LayoutMeasurement.js");
steal("appdev",function(){AD.Control.extend("opstools.GMAMatrix.ADAffix",{init:function(a,b){var c=this;this.options=b=AD.defaults({scrollingObj:"window",offset:0},b);this.scrollingObj=null;if("window"==this.options.scrollingObj)this.scrollingObj=$(window);else{var d=$(this.options.scrollingObj);0<d.length&&(this.scrollingObj=$(d[0]))}this.scrollingObj?(this.scrollingObj.on("scroll",function(){c.checkPosition()}),this.$element=$(this.element),this.unpin=1,this.checkPosition()):console.error("ERROR: ADAffix.js: scrolling object not found ["+
this.options.scrollingObj+"]")},checkPosition:function(){if(this.$element.is(":visible")){this.scrollingObj.height();var a=this.scrollingObj.scrollTop(),b=this.scrollingObj.offset(),c=this.$element.offset(),d=this.options.offset,e=d.bottom,f=d.top;"object"!=typeof d&&(e=f=d);"function"==typeof f&&(f=d.top());"function"==typeof e&&d.bottom();!1==this.affixed?(b=!1,a<this.unpin&&(b="top")):b.top+f>c.top?(b=!1,this.unpin=a):b="top";this.affixed!==b&&(this.affixed=b,this.$element.removeClass("affix affix-top affix-bottom").addClass("affix"+
(b?"-"+b:"")))}}})});steal.executed("opstools/GMAMatrix/controllers/ADAffix.js");
steal("can/view/ejs",function(a){return a.view.preload("opstools_GMAMatrix_views_GMAStage_GMAStage-Layout_ejs",a.EJS(function(a,c){with(c)with(a){var d=[];d.push('\n<\!-- ********** BEGINNING OF "LAYOUT" MODE ********** --\>\n<div class="row">\n\t<div class="col-xs-10">\n\t\t<div class="gmamatrix-container-grid">\n\t\t<div class="row">\n\t\t\t<div class="col-xs-2"></div>\n\t\t\t<div class="col-xs-10">\n\t\t\t\t<div class="row">\n\t\t\t\t\t<div class="col-xs-4 gmamatrix-grid-bb"><h4>Faith Actions</h4></div>\n\t\t\t\t\t<div class="col-xs-4 gmamatrix-grid-bb"><h4>Fruits</h4></div>\n\t\t\t\t\t<div class="col-xs-4 gmamatrix-grid-bb"><h4>Outcome</h4></div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t\t\n\t\t<div class="row">\n\t\t\t<div class="col-xs-2"><a href="#" class="opsportal-filter-tag filter-on opsportal-showhide gmamatrix-showhide" lmikey="win"><i class="fa fa-minus"></i><h4>Win</h4></a></div>\n\t\t\t<div class="col-xs-10 gmamatrix-grid-bl">\n\t\t\t\t<div class="row" lmirow="win">\n\t\t\t\t\t<div class="col-xs-4">\n\t\t\t\t\t\t<div class="gmamatrix-container gmamatrix-droppable-lmi" key="etmm">\n\t\t\t\t\t\t\t<h5>Exposing through mass means</h5>\n\t\t\t\t\t\t\t<div class="measurements" type="staff"><h6>Staff</h6></div>\n\t\t\t\t\t\t\t<div class="measurements" type="disciple"><h6>Disciple</h6></div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\n\t\t\t\t\t\t<div class="gmamatrix-container gmamatrix-droppable-lmi" key="igc">\n\t\t\t\t\t\t\t<h5>Initiating Gospel conversations</h5>\n\t\t\t\t\t\t\t<div class="measurements" type="staff"><h6>Staff</h6></div>\n\t\t\t\t\t\t\t<div class="measurements" type="disciple"><h6>Disciple</h6></div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\n\t\t\t\t\t\t\n\t\t\t\t\t\t<div class="gmamatrix-container gmamatrix-droppable-lmi" key="ptg">\n\t\t\t\t\t\t\t<h5>Presenting the Gospel</h5>\n\t\t\t\t\t\t\t<div class="measurements" type="staff"><h6>Staff</h6></div>\n\t\t\t\t\t\t\t<div class="measurements" type="disciple"><h6>Disciple</h6></div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t\n\t\t\t\t\t<div class="col-xs-4">\n\t\t\t\t\t\t\n\t\t\t\t\t\t<div class="gmamatrix-container gmamatrix-droppable-lmi" key="npb">\n\t\t\t\t\t\t\t<h5>New Professing believers</h5>\n\t\t\t\t\t\t\t<div class="measurements" type="staff"><h6>Staff</h6></div>\n\t\t\t\t\t\t\t<div class="measurements" type="disciple"><h6>Disciple</h6></div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="col-xs-4">\n\t\t\t\t\t\t\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t\t\n\t\t<div class="row">\n\t\t\t<div class="col-xs-2"><a href="#" class="opsportal-filter-tag filter-on opsportal-showhide gmamatrix-showhide" lmikey="build"><i class="fa fa-minus"></i><h4>Build</h4></a></div>\n\t\t\t<div class="col-xs-10 gmamatrix-grid-bl">\n\t\t\t\t<div class="row" lmirow="build">\n\t\t\t\t\t<div class="col-xs-4">\n\t\t\t\t\t\t\n\t\t\t\t\t\t<div class="gmamatrix-container gmamatrix-droppable-lmi" key="fu">\n\t\t\t\t\t\t\t<h5>Following up</h5>\n\t\t\t\t\t\t\t<div class="measurements" type="staff"><h6>Staff</h6></div>\n\t\t\t\t\t\t\t<div class="measurements" type="disciple"><h6>Disciple</h6></div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\n\t\t\t\t\t\t\n\t\t\t\t\t\t<div class="gmamatrix-container gmamatrix-droppable-lmi" key="pths">\n\t\t\t\t\t\t\t<h5>Presenting the Holy Spirit</h5>\n\t\t\t\t\t\t\t<div class="measurements" type="staff"><h6>Staff</h6></div>\n\t\t\t\t\t\t\t<div class="measurements" type="disciple"><h6>Disciple</h6></div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="col-xs-4">\n\t\t\t\t\t\t\n\t\t\t\t\t\t<div class="gmamatrix-container gmamatrix-droppable-lmi" key="ed">\n\t\t\t\t\t\t\t<h5>Engaged disciples</h5>\n\t\t\t\t\t\t\t<div class="measurements" type="staff"><h6>Staff</h6></div>\n\t\t\t\t\t\t\t<div class="measurements" type="disciple"><h6>Disciple</h6></div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="col-xs-4">\n\t\t\t\t\t\t\n\t\t\t\t\t\t<div class="gmamatrix-container gmamatrix-droppable-lmi" key="mp">\n\t\t\t\t\t\t\t<h5>Movement Progress</h5>\n\t\t\t\t\t\t\t<div class="measurements" type="staff"><h6>Staff</h6></div>\n\t\t\t\t\t\t\t<div class="measurements" type="disciple"><h6>Disciple</h6></div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t\t\n\t\t<div class="row">\n\t\t\t<div class="col-xs-2"><a href="#" class="opsportal-filter-tag filter-on opsportal-showhide gmamatrix-showhide" lmikey="send"><i class="fa fa-minus"></i><h4>Send</h4></a></div>\n\t\t\t<div class="col-xs-10 gmamatrix-grid-bl">\n\t\t\t\t<div class="row" lmirow="send">\n\t\t\t\t\t<div class="col-xs-4">\n\t\t\t\t\t\t\n\t\t\t\t\t\t<div class="gmamatrix-container gmamatrix-droppable-lmi" key="tfa">\n\t\t\t\t\t\t\t<h5>Training for action</h5>\n\t\t\t\t\t\t\t<div class="measurements" type="staff"><h6>Staff</h6></div>\n\t\t\t\t\t\t\t<div class="measurements" type="disciple"><h6>Disciple</h6></div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\n\t\t\t\t\t\t\n\t\t\t\t\t\t<div class="gmamatrix-container gmamatrix-droppable-lmi" key="sll">\n\t\t\t\t\t\t\t<h5>Sending lifetime laborers</h5>\n\t\t\t\t\t\t\t<div class="measurements" type="staff"><h6>Staff</h6></div>\n\t\t\t\t\t\t\t<div class="measurements" type="disciple"><h6>Disciple</h6></div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\n\t\t\t\t\t\t<div class="gmamatrix-container gmamatrix-droppable-lmi" key="dlr">\n\t\t\t\t\t\t\t<h5>Developing local resources</h5>\n\t\t\t\t\t\t\t<div class="measurements" type="staff"><h6>Staff</h6></div>\n\t\t\t\t\t\t\t<div class="measurements" type="disciple"><h6>Disciple</h6></div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="col-xs-4">\n\t\t\t\t\t\t\n\t\t\t\t\t\t<div class="gmamatrix-container gmamatrix-droppable-lmi" key="md">\n\t\t\t\t\t\t\t<h5>Multiplying disciples</h5>\n\t\t\t\t\t\t\t<div class="measurements" type="staff"><h6>Staff</h6></div>\n\t\t\t\t\t\t\t<div class="measurements" type="disciple"><h6>Disciple</h6></div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="col-xs-4">\n\t\t\t\t\t\t\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t\t\n\t\t\n\t\t\n\t\t</div>\n\t\t\n\t\t<div class="row">\n\t\t\t<div class="col-xs-12 gmamatrix-container gmamatrix-droppable-other gmamatrix-other" key="other">\n\t\t\t\t<h4>Other</h4>\n\t\t\t\t<div class="measurements"></div>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n\t<div class="col-xs-2">\n\t\t<div class="gmamatrix-container gmamatrix-cat-container gmamatrix-droppable-cat" id="gmamatrix-affix" data-offset-top="65">\n\t\t\t<h4>Categories</h4>\n\t\t\t<div class="measurements"></div>\n\t\t</div>\n\t</div>\n</div>\n');return d.join("")}}))});
steal.executed("opstools/GMAMatrix/views/GMAStage/GMAStage-Layout.ejs");
steal("appdev","//opstools/GMAMatrix/classes/GMALMIDefinition.js","//opstools/GMAMatrix/controllers/LayoutMeasurement.js","//opstools/GMAMatrix/controllers/LMIDefinition.js","//opstools/GMAMatrix/controllers/NotPlacedList.js","//opstools/GMAMatrix/controllers/ADAffix.js","//opstools/GMAMatrix/views/GMAStage/GMAStage-Layout.ejs",function(){var a=function(a){var c=$(a.draggable).parents(".affix");c.removeClass("affix");setTimeout(function(){c.addClass("affix")},0)};AD.Control.extend("opstools.GMAMatrix.GMAStage_Layout",
{init:function(a,c){var d=this;this.options=AD.defaults({templateDOM:"//opstools/GMAMatrix/views/GMAStage/GMAStage-Layout.ejs"},c);this.measurementWidgets=[];this.hasLayoutChanged=!1;this.initDOM();this.element.find(".gmamatrix-droppable-lmi .measurements").droppable({accept:".gmamatrix-draggable",drop:function(a,b){d.handleDropLMIEvent(a,b,this)},hoverClass:"gmamatrix-container-hover"});this.element.find(".gmamatrix-droppable-other").droppable({accept:".gmamatrix-draggable",drop:function(a,b){d.handleDropOtherEvent(a,
b,this)},hoverClass:"gmamatrix-container-hover"});this.element.find(".gmamatrix-droppable-cat").droppable({accept:function(a){var b=0<$(a).parents(".gmamatrix-cat-container").length;return $(a).hasClass("gmamatrix-draggable")&&!b?!0:!1},drop:function(a,b){d.handleDropReturnEvent(a,b,this)},hoverClass:"gmamatrix-container-hover"})},handleDropLMIEvent:function(b,c,d){var b=$(d),d=$(c.draggable),e=b.parent().attr("key"),f=d.data("LayoutMeasurement"),g=b.attr("type");a(c);b.append(d);f.savePlacement(e,
g);this.hasLayoutChanged=!0},handleDropReturnEvent:function(b,c,d){$(d).find(".measurements").prepend(c.draggable);a(c);this.hasLayoutChanged=!0},handleDropOtherEvent:function(b,c,d){var b=$(c.draggable),e=b.data("LayoutMeasurement");a(c);$(d).find(".measurements").append(b);e.savePlacement("other");this.hasLayoutChanged=!0},initDOM:function(){this.element.html(can.view(this.options.templateDOM,{}));this.notPlacedList=new AD.controllers.opstools.GMAMatrix.ADAffix(this.element.find("#gmamatrix-affix"),
{scrollingObj:".opsportal-stage-container",offset:10})},show:function(){this.element.show();this.hasLayoutChanged=!1},hide:function(){this.element.hide();this.hasLayoutChanged&&(this.element.trigger("layout-changed"),this.hasLayoutChanged=!1)},addMeasurement:function(a){var c=a.placement(),d=c.location(),e=$("<div>"),a=new AD.controllers.opstools.GMAMatrix.LayoutMeasurement(e,{measurement:a,boundaryElement:this.element});this.measurementWidgets.push(a);e.data("LayoutMeasurement",a);a=this.element.find("div.gmamatrix-container[key='"+
d+"'] .measurements");"other"!=d&&(a=a.filter("[type='"+c.type+"']"));0==a.length&&(a=this.element.find("div.gmamatrix-cat-container .measurements"));a.append(e)},removeAll:function(){for(var a=0;a<this.measurementWidgets.length;a++)this.measurementWidgets[a].clear();this.measurementWidgets=[]}})});steal.executed("opstools/GMAMatrix/controllers/GMAStage-Layout.js");
steal("can/view/ejs",function(a){return a.view.preload("opstools_GMAMatrix_views_LMIGraph_LMIGraph_ejs",a.EJS(function(b,c){with(c)with(b){var d=[];d.push('\n<div class="gmamatrix-container gmamatrix-dashboard-container">\n    <h5>');d.push(a.view.txt(1,"h5",0,this,function(){return title}));d.push('</h5>\n    <div class="row staff">\n        <div class="col-xs-9">\n            <span class="gma-dashboard-label">Staff</span>\n            <div class="gmaSparkline" style="height:24px;width:50px;"></div>\n        </div>\n        <div class="col-xs-3">\n            <span class="pull-right field-total">986</span>\n        </div>\n    </div>\n    <div class="row disciple">\n        <div class="col-xs-9">\n            <span class="gma-dashboard-label">Disciple</span>\n            <div class="gmaSparkline" style="height:24px;width:50px;"></div>\n            \n        </div>\n        <div class="col-xs-3">\n            <span class="pull-right field-total">1255</span>\n        </div>\n    </div>\n    <div class="row total">\n        <div class="col-xs-9 opsportal-border-top">\n            <span class="hris-tooltip tt gma-highlight field-ratio" data-placement="top" data-original-title="Staff to Disciple Ratio">1:1.2</span>\n        </div>\n        <div class="col-xs-3 opsportal-border-top">\n            <span class="pull-right gma-highlight field-total">2241</span>\n        </div>\n    </div>\n</div>\n');
return d.join("")}}))});steal.executed("opstools/GMAMatrix/views/LMIGraph/LMIGraph.ejs");
steal("appdev","//opstools/GMAMatrix/views/LMIGraph/LMIGraph.ejs",function(){AD.Control.extend("opstools.GMAMatrix.LMIGraph",{tooltipCB:function(){return this.period+": "+this.score},seriesStyles:[{fill:"#999999",stroke:"#333333"}],gcd:function(a,b){return!b?a:gcd(b,a%b)},ratioInteger:function(a,b){var c=this.gcd(a,b);return""+a/c+":"+b/c},ratioFloat:function(a,b){return 0==a*b?"":b>a?"1:"+Math.round(100*(b/a))/100:""+Math.round(100*(a/b))/100+":1"}},{init:function(a,b){this.options=b=AD.defaults({templateDOM:"//opstools/GMAMatrix/views/LMIGraph/LMIGraph.ejs",
titleLMI:"",key:""},b);AD.classes.UIController.apply(this,arguments);this.initDOM()},initDOM:function(){this.element.html(can.view(this.options.templateDOM,{title:this.options.titleLMI}))},render:function(a){for(var b=this.element.find(".staff .gmaSparkline"),c=this.element.find(".staff .field-total"),d=this.element.find(".disciple .gmaSparkline"),e=this.element.find(".disciple .field-total"),f=this.element.find(".total .field-ratio"),g=this.element.find(".total .field-total"),h=[],m=[],j=0,k=0,i=
0;i<a.periods.length;i++){var l=Array.isArray(a.staff)?parseInt(a.staff[i])||0:0,j=j+l;h.push({period:a.periods[i],score:l});l=Array.isArray(a.disciple)?parseInt(a.disciple[i])||0:0;k+=l;m.push({period:a.periods[i],score:l})}b.wijsparkline({data:h,bind:"score",tooltipContent:this.constructor.tooltipCB,type:"area",seriesStyles:this.constructor.seriesStyles});c.text(j);d.wijsparkline({data:m,bind:"score",tooltipContent:this.constructor.tooltipCB,type:"area",seriesStyles:this.constructor.seriesStyles});
e.text(k);f.text(this.constructor.ratioFloat(j,k));g.text(j+k)}})});steal.executed("opstools/GMAMatrix/controllers/LMIGraph.js");
steal("can/view/ejs",function(a){return a.view.preload("opstools_GMAMatrix_views_GMAStage_GMAStage-Dashboard_ejs",a.EJS(function(a,c){with(c)with(a){var d=[];d.push('\n\t\t<\!-- Dashboard mode --\>\n\t\t<div class="row">\n\t\t\t<div class="col-xs-12">\n\t\t\t\t<div class="gmamatrix-container-grid">\n\t\t\t\t\t<div class="row">\n\t\t\t\t\t\t<div class="col-xs-2"></div>\n\t\t\t\t\t\t<div class="col-xs-10">\n\t\t\t\t\t\t\t<div class="row">\n\t\t\t\t\t\t\t\t<div class="col-xs-4 gmamatrix-grid-bb"><h4>Faith Actions</h4></div>\n\t\t\t\t\t\t\t\t<div class="col-xs-4 gmamatrix-grid-bb"><h4>Fruits</h4></div>\n\t\t\t\t\t\t\t\t<div class="col-xs-4 gmamatrix-grid-bb"><h4>Outcome</h4></div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="row">\n\t\t\t\t\t\t<div class="col-xs-2"><a href="#" class="opsportal-filter-tag filter-on opsportal-showhide gmamatrix-showhide" lmikey="win"><i class="fa fa-minus"></i><h4>Win</h4></a></div>\n\t\t\t\t\t\t<div class="col-xs-10 gmamatrix-grid-bl">\n\t\t\t\t\t\t\t<div class="row" lmirow="win">\n\t\t\t\t\t\t\t\t<div class="col-xs-4">\n\t\t\t\t\t\t\t\t\t<div class="lmi-graph" key="etmm" label="Exposing Through Mass Means"></div>\n\t\t\t\t\t\t\t\t\t<div class="lmi-graph" key="igc" label="Initiating Gospel Conversations"></div>\n\t\t\t\t\t\t\t\t\t<div class="lmi-graph" key="ptg" label="Presenting the Gospel"></div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div class="col-xs-4">\n\t\t\t\t\t\t\t\t\t<div class="lmi-graph" key="npb" label="New Professing Believers"></div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div class="col-xs-4">\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="row">\n\t\t\t\t\t\t<div class="col-xs-2"><a href="#" class="opsportal-filter-tag filter-on opsportal-showhide gmamatrix-showhide" lmikey="build"><i class="fa fa-minus"></i><h4>Build</h4></a></div>\n\t\t\t\t\t\t<div class="col-xs-10 gmamatrix-grid-bl">\n\t\t\t\t\t\t\t<div class="row" lmirow="build">\n\t\t\t\t\t\t\t\t<div class="col-xs-4">\n\t\t\t\t\t\t\t\t\t<div class="lmi-graph" key="fu" label="Following Up"></div>\n\t\t\t\t\t\t\t\t\t<div class="lmi-graph" key="pths" label="Presenting the Holy Spirit"></div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div class="col-xs-4">\n\t\t\t\t\t\t\t\t\t<div class="lmi-graph" key="ed" label="Engaged Disciples"></div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div class="col-xs-4">\n\t\t\t\t\t\t\t\t\t<div class="lmi-graph" key="mp" label="Movement Progress"></div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="row">\n\t\t\t\t\t\t<div class="col-xs-2"><a href="#" class="opsportal-filter-tag filter-on opsportal-showhide gmamatrix-showhide" lmikey="send"><i class="fa fa-minus"></i><h4>Send</h4></a></div>\n\t\t\t\t\t\t<div class="col-xs-10 gmamatrix-grid-bl">\n\t\t\t\t\t\t\t<div class="row" lmirow="send">\n\t\t\t\t\t\t\t\t<div class="col-xs-4">\n\t\t\t\t\t\t\t\t\t<div class="lmi-graph" key="tfa" label="Training for Action"></div>\n\t\t\t\t\t\t\t\t\t<div class="lmi-graph" key="sll" label="Sending Lifetime Laborers"></div>\n\t\t\t\t\t\t\t\t\t<div class="lmi-graph" key="dlr" label="Developing Local Resources"></div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div class="col-xs-4">\n\t\t\t\t\t\t\t\t\t<div class="lmi-graph" key="md" label="Multiplying Disciples"></div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div class="col-xs-4">\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div> <\!-- end .gmamatrix-container-grid --\>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n\t<\!-- end dashboard mode --\>\n');return d.join("")}}))});
steal.executed("opstools/GMAMatrix/views/GMAStage/GMAStage-Dashboard.ejs");
steal("appdev","//opstools/GMAMatrix/classes/GMALMIDefinition.js","//opstools/GMAMatrix/controllers/LMIDefinition.js","//opstools/GMAMatrix/controllers/LMIGraph.js","//opstools/GMAMatrix/views/GMAStage/GMAStage-Dashboard.ejs",function(){AD.Control.extend("opstools.GMAMatrix.GMAStage_Dashboard",{init:function(a,b){var c=this;this.options=AD.defaults({templateDOM:"//opstools/GMAMatrix/views/GMAStage/GMAStage-Dashboard.ejs"},b);this.graphs={};this.initDOM();this.element.find(".lmi-graph").each(function(){var a=
$(this),b=a.attr("label"),f=a.attr("key"),a=new AD.controllers.opstools.GMAMatrix.LMIGraph(a,{titleLMI:b,key:f});c.graphs[f]=a});this.element.find(".tt").tooltip(b);this.render()},initDOM:function(){this.element.html(can.view(this.options.templateDOM,{}))},show:function(){this.element.show()},hide:function(){this.element.hide()},render:function(a){if(a)for(b in this.graphs)this.graphs[b].render({staff:a.staffLMIs[b],disciple:a.discipleLMIs[b],periods:a.periods});else for(var b in this.graphs)this.graphs[b].render({staff:[2,
4,6,8,10,12,25],disciple:[3,6,9,12,15,25,30],periods:"Jan Feb Mar Apr May Jun Jul".split(" ")})},".gmamatrix-lmi-filter-tag click":function(a){var b=this.element.find(a).data("lmi-filter");$("#"+b).siblings("ul").toggle();$("#"+b).toggle();this.element.find(a).parent().addClass("gmamatrix-lmi-selected").children(".triangle-up").toggle();this.element.find(a).parent().siblings("div").removeClass("gmamatrix-lmi-selected").children(".triangle-up").toggle()}})});steal.executed("opstools/GMAMatrix/controllers/GMAStage-Dashboard.js");
steal("can/view/ejs",function(a){return a.view.preload("opstools_GMAMatrix_views_GMAStage_GMAStage_ejs",a.EJS(function(a,c){with(c)with(a){var d=[];d.push('<\!-- begin gmamatrix-stage area  --\>\n<div class="opsportal-stage-container opsportal-padding-bottom-2x" style="position: relative;">\n\t<div id="gmamatrix-stage-tabs" class="gen-btn-list">\n        <ul class="list-unstyled list-inline">\n        <li><a href="#dashboard" class="btn opsportal-btn opsportal-btn-dk" role="button">Dashboard</a></li>\n        <li><a href="#layout" class="btn opsportal-btn opsportal-btn-dk" role="button">Layout</a></li>\n        <li><a href="#entry" class="btn opsportal-btn opsportal-btn-dk active-btn" role="button">Entry</a></li>\n        </ul>\n    </div>\n  \n\t<div class="opsportal-stage-main">\n\t    \n\t    <div id="gmamatrix-dashboard" class="stage-panel"></div>\n\t    <div id="gmamatrix-entry" class="stage-panel"></div>\n\t    <div id="gmamatrix-layout" class="stage-panel"></div>\n\t    \n\t</div> <\!-- end opsportal-stage-main --\>\n\t\n</div> <\!-- end opsportal-stage-container --\>\n');
return d.join("")}}))});steal.executed("opstools/GMAMatrix/views/GMAStage/GMAStage.ejs");
steal("appdev","//opstools/GMAMatrix/classes/GMALMIDefinition.js","//opstools/GMAMatrix/controllers/LMIDefinition.js","//opstools/GMAMatrix/controllers/GMAStage-Entry.js","//opstools/GMAMatrix/controllers/GMAStage-Layout.js","//opstools/GMAMatrix/controllers/GMAStage-Dashboard.js","//opstools/GMAMatrix/views/GMAStage/GMAStage.ejs",function(){AD.Control.extend("opstools.GMAMatrix.GMAStage",{init:function(a,b){var c=this;this.options=AD.defaults({templateDOM:"//opstools/GMAMatrix/views/GMAStage/GMAStage.ejs"},
b);this.initDOM();var d=this.element.find("#gmamatrix-layout"),e=this.element.find("#gmamatrix-entry"),f=this.element.find("#gmamatrix-dashboard");this.panels={"#layout":new AD.controllers.opstools.GMAMatrix.GMAStage_Layout(d),"#entry":new AD.controllers.opstools.GMAMatrix.GMAStage_Entry(e),"#dashboard":new AD.controllers.opstools.GMAMatrix.GMAStage_Dashboard(f)};this.panels["#layout"].hide();this.panels["#entry"].hide();d.on("layout-changed",function(a){c.element.trigger("layout-changed");a.preventDefault()});
AD.comm.hub.subscribe("gmamatrix.resize",function(a,b){c.element.find(".opsportal-stage-container").css("height",b.height+"px")})},initDOM:function(){this.element.html(can.view(this.options.templateDOM,{}))},loadMeasurements:function(a){this.panels["#layout"].removeAll();for(var b=0;b<a.length;b++)this.panels["#layout"].addMeasurement(a[b]);this.panels["#entry"].removeAll();for(b=0;b<a.length;b++)this.panels["#entry"].addMeasurement(a[b])},renderDashboard:function(a){this.panels["#dashboard"].render(a)},
".opsportal-filter-tag click":function(a,b){var c=a.attr("lmikey"),c=a.parents(".stage-panel").find(".row[lmirow='"+c+"']");a.hasClass("filter-on")?(a.removeClass("filter-on").children("i").removeClass("fa-minus").addClass("fa-plus"),c.slideUp(1E3)):(a.addClass("filter-on").children("i").removeClass("fa-plus").addClass("fa-minus"),c.slideDown(1E3));b.preventDefault()},"#gmamatrix-stage-tabs ul li a click":function(a,b){this.element.find("#gmamatrix-stage-tabs ul li a.active-btn").removeClass("active-btn");
a.addClass("active-btn");var c=a.attr("href");this.element.find(".opsportal-stage-main").children().hide();for(var d in this.panels)d!=c&&this.panels[d].hide();this.panels[c].show();this.element.trigger("panel-active",[c]);b.preventDefault()}})});steal.executed("opstools/GMAMatrix/controllers/GMAStage.js");
steal("can/view/ejs",function(a){return a.view.preload("opstools_GMAMatrix_views_GMAFilters_GMAFilters_ejs",a.EJS(function(a,c){with(c)with(a){var d=[];d.push('\t\n\t<\!-- begin "Dashboard" view filters --\>\n    <div id="gmamatrix-dashboard-assignment-list"></div>\n    <\!--\n\t<div class="opsportal-widget-title-container">\n\t\t<h2 class="opsportal-widget-title">Team</h2>\n\t</div>\t\t\t\n\t<div class="opsportal-widget-meta"><p class="opsportal-widget-meta-desc">Select the team assignment to view.</p></div>\n\t<div class="btn-group opsportal-btn-full">\n\t  <button type="button" class="btn btn-default dropdown-toggle opsportal-btn opsportal-btn-full opsportal-btn-wj" data-toggle="dropdown" style="text-align: left;">\n\t    Team <span class="caret opsportal-btn-caret"></span>\n\t  </button>\n\t  <ul id="gmafilters-assignment" class="dropdown-menu" role="menu">\n\t  </ul>\n\t</div>\n\t--\>\n    \n    <div id="gmamatrix-dashboard-dates">\n        <div class="opsportal-widget-title-container opsportal-widget-container-divider">\n            <h2 class="opsportal-widget-title">Report Date Range</h2>\n        </div>\t\t\t\n        <div class="opsportal-widget-meta"><p class="opsportal-widget-meta-desc">Select the <em>start</em> and <em>end</em> dates.</p></div>\n    \n        <div id="startreport"></div> \n        <\!-- <label for="gmamatrix-start-date">Start Date:</label> --\>\n        <input name="gmamatrix-start-date" type="text" id="gmamatrix-start-date" class="form-control opsportal-datepicker" placeholder="Start Date">\n    \n        <div id="endreport"></div> \n        <\!-- <label for="gmamatrix-end-date">End Date:</label> --\>\n        <input name="gmamatrix-end-date" type="text" id="gmamatrix-end-date" class="form-control opsportal-datepicker" placeholder="End Date">\n    </div>\n\t\n\t<div id="gmamatrix-dashboard-strategy-list"></div>\n    <\!--\t\n\t<div class="opsportal-widget-title-container opsportal-widget-container-divider">\n\t\t<h2 class="opsportal-widget-title">Strategy</h2>\n\t</div>\t\t\t\n\t<div class="opsportal-widget-meta"><p class="opsportal-widget-meta-desc">Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nam et sodales tellus.</p></div>\n\t<div class="btn-group opsportal-btn-full">\n\t  <button type="button" class="btn btn-default dropdown-toggle opsportal-btn opsportal-btn-full opsportal-btn-wj" data-toggle="dropdown" style="text-align: left;">\n\t    Strategy <span class="caret opsportal-btn-caret"></span>\n\t  </button>\n\t  <ul id="gmafilters-strategy" class="dropdown-menu" role="menu">\n\t    <li><a href="#">Strategy 1</a></li>\n\t    <li><a href="#">Strategy 2</a></li>\n\t    <li><a href="#">Strategy 3</a></li>\n\t  </ul>\n\t</div>\n\t--\>\n\t\n\t\n\t\n\t<\!-- begin "Entry" and "Layout" view filters --\>\n<\!--\n\t\t<div class="opsportal-widget-title-container">\n\t\t\t<h2 class="opsportal-widget-title">Assignments</h2>\n\t\t</div>\t\t\t\n\t\t<div class="opsportal-widget-meta"><p class="opsportal-widget-meta-desc">Choose the GMA nodes you are allowed to report on.</p></div>\n\t\t<div class="btn-group opsportal-btn-full">\n\t\t  <button type="button" class="btn btn-default dropdown-toggle opsportal-btn opsportal-btn-full opsportal-btn-wj" data-toggle="dropdown" style="text-align: left;">\n\t\t    Assignment <span class="caret opsportal-btn-caret"></span>\n\t\t  </button>\n\t\t  <ul class="dropdown-menu" role="menu">\n\t\t    <li><a href="#">Assignment 1</a></li>\n\t\t    <li><a href="#">Assignment 2</a></li>\n\t\t    <li><a href="#">Assignment 3</a></li>\n\t\t  </ul>\n\t\t</div>\n\t\t\n\t\t<div class="opsportal-widget-title-container opsportal-widget-container-divider">\n\t\t\t<h2 class="opsportal-widget-title">Strategy</h2>\n\t\t</div>\t\t\t\n\t\t<div class="opsportal-widget-meta"><p class="opsportal-widget-meta-desc">Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nam et sodales tellus.</p></div>\n\t\t<div class="btn-group opsportal-btn-full">\n\t\t  <button type="button" class="btn btn-default dropdown-toggle opsportal-btn opsportal-btn-full opsportal-btn-wj" data-toggle="dropdown" style="text-align: left;">\n\t\t    Strategy <span class="caret opsportal-btn-caret"></span>\n\t\t  </button>\n\t\t  <ul class="dropdown-menu" role="menu">\n\t\t    <li><a href="#">Strategy 1</a></li>\n\t\t    <li><a href="#">Strategy 2</a></li>\n\t\t    <li><a href="#">Strategy 3</a></li>\n\t\t  </ul>\n\t\t</div>\n\t\t<div class="opsportal-widget-title-container opsportal-widget-container-divider">\n\t\t\t<h2 class="opsportal-widget-title">Reporting Period</h2>\n\t\t</div>\t\t\t\n\t\t<div class="opsportal-widget-meta"><p class="opsportal-widget-meta-desc">Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nam et sodales tellus.</p></div>\n\t\t<div class="btn-group opsportal-btn-full">\n\t\t  <button type="button" class="btn btn-default dropdown-toggle opsportal-btn opsportal-btn-full opsportal-btn-wj" data-toggle="dropdown" style="text-align: left;">\n\t\t    Reporting Period <span class="caret opsportal-btn-caret"></span>\n\t\t  </button>\n\t\t  <ul class="dropdown-menu" role="menu">\n\t\t    <li><a href="#">Reporting Period 1</a></li>\n\t\t    <li><a href="#">Reporting Period 2</a></li>\n\t\t    <li><a href="#">Reporting Period 3</a></li>\n\t\t  </ul>\n\t\t</div>\n--\>\n');return d.join("")}}))});
steal.executed("opstools/GMAMatrix/views/GMAFilters/GMAFilters.ejs");
steal("appdev","//opstools/GMAMatrix/views/GMAFilters/GMAFilters.ejs",function(){AD.Control.extend("opstools.GMAMatrix.GMAFilters",{init:function(a,b){var c=this;this.options=b=AD.defaults({templateDOM:"//opstools/GMAMatrix/views/GMAFilters/GMAFilters.ejs"},b);AD.classes.UIController.apply(this,arguments);this.initDOM();this.strategyList=this.assignmentList=null;this.$widgets={};this.values={startDate:null,endDate:null,assignment:null,strategy:null};this.setupWidgets();AD.comm.hub.subscribe("gmamatrix.resize",
function(a,b){c.element.css("height",b.height+"px");c.element.find(".genlist-widget-inner").css("height",b.height+"px");c.element.find(".opsportal-widget-masthead").outerHeight(!0)})},initDOM:function(){this.element.html(can.view(this.options.templateDOM,{}))},setupWidgets:function(){var a=this;this.$widgets={startDate:this.element.find("input[name='gmamatrix-start-date']"),endDate:this.element.find("input[name='gmamatrix-end-date']"),assignment:this.element.find("#gmamatrix-dashboard-assignment-list"),
strategy:this.element.find("#gmamatrix-dashboard-strategy-list")};this.assignmentList=new AD.controllers.GMAList(this.$widgets.assignment,{title:"Team",description:"Select the team assignment to view"});this.$widgets.assignment.on("item-selected",function(b,c){a.values.assignment=c.model;a.element.trigger("assignment-selected",c);a.setProgress("start-date");b.preventDefault()});this.strategyList=new AD.controllers.GMAList(this.$widgets.strategy,{title:"Strategy",description:"Selecting the strategy will render the dashboard"});
this.$widgets.strategy.on("item-selected",function(b,c){a.values.strategy=c.model;a.element.trigger("strategy-selected",c);b.preventDefault()});a.$widgets.startDate.datepicker({format:"yyyy-mm-dd",autoclose:!0}).on("change",function(){a.values.startDate=$(this).val();a.setProgress("end-date");a.checkDates()});a.$widgets.endDate.datepicker({format:"yyyy-mm-dd",autoclose:!0}).on("change",function(){a.values.endDate=$(this).val();a.checkDates()});a.setProgress("none")},setProgress:function(a){switch(a){default:case "none":this.$widgets.assignment.hide();
this.element.find("#gmamatrix-dashboard-dates").hide();this.$widgets.strategy.hide();break;case "team":this.$widgets.assignment.show();this.element.find("#gmamatrix-dashboard-dates").hide();this.$widgets.strategy.hide();break;case "start-date":this.$widgets.assignment.show();this.element.find("#gmamatrix-dashboard-dates").show();this.$widgets.endDate.attr("disabled",1);this.$widgets.strategy.hide();break;case "end-date":this.$widgets.assignment.show();this.element.find("#gmamatrix-dashboard-dates").show();
this.$widgets.endDate.removeAttr("disabled");this.$widgets.strategy.hide();break;case "strategy":this.$widgets.assignment.show(),this.element.find("#gmamatrix-dashboard-dates").show(),this.$widgets.endDate.removeAttr("disabled"),this.$widgets.strategy.show()}},loadAssignments:function(a){this.assignmentList.data(a);this.setProgress("team")},loadStrategies:function(a){a[-1]="All";this.strategyList.data(a);this.setProgress("strategy")},setDateRange:function(a,b){this.$widgets.startDate.datepicker("setStartDate",
a);this.$widgets.startDate.datepicker("setEndDate",b);this.$widgets.endDate.datepicker("setStartDate",a);this.$widgets.endDate.datepicker("setEndDate",b)},setSelectedAssignment:function(a){this.assignmentList.setCurrentItemByID(a)},setSelectedStrategy:function(a){this.strategyList.setCurrentItemByID(a)},checkDates:function(){if(this.values.assignment&&this.values.startDate&&this.values.endDate){var a=new Date(this.values.startDate),b=new Date(this.values.endDate);a.getTime()?b.getTime()?a>b?alert("The start date must be earlier than the end date"):
(a=this.values.assignment.getID()+" "+this.values.startDate+" "+this.values.endDate,this.oldValueString!=a&&this.element.trigger("dates-chosen",[this.values.assignment.getID(),this.values.startDate,this.values.endDate]),this.oldValueString=a):alert("End date is not valid"):alert("Start date is not valid")}},show:function(){this.element.show()},hide:function(){this.element.hide()}})});steal.executed("opstools/GMAMatrix/controllers/GMAFilters.js");
steal("appdev",function(){"undefined"==typeof AD.classes.gmamatrix&&(AD.classes.gmamatrix={});AD.classes.gmamatrix.GMAGraphData=can.Construct.extend({},{init:function(a){var a=AD.defaults({nodeId:-1,startDate:"yyyy-mm-dd",endDate:"yyyy-mm-dd"},a),b;for(b in a)this[b]=a[b];this.placementData=this.graphData=null;this.dataReady=$.when(this.fetchData(),this.fetchPlacements())},fetchData:function(){var a=AD.sal.Deferred(),b=this;AD.comm.service.get({url:"/opstool-gmaMatrix/gmamatrix/graphData",data:{nodeId:this.nodeId,
startDate:this.startDate,endDate:this.endDate}}).fail(function(b){b.message.match(/Invalid PGTIOU/)&&AD.comm.hub.publish("ad.auth.reauthenticate",{});a.reject(b)}).done(function(c){b.graphData=c;a.resolve()});return a},fetchPlacements:function(){var a=AD.sal.Deferred(),b=this;AD.comm.service.get({url:"/opstool-gmaMatrix/gmamatrix/placements",data:{nodeId:b.nodeId}}).fail(function(b){a.reject(b)}).done(function(c){b.placementData={};for(var d=0;d<c.length;d++)b.placementData[c[d].measurement_id]={key:c[d].location,
type:c[d].type};a.resolve(b.placementData)});return a},strategies:function(){var a={};if(this.graphData)for(var b=0;b<this.graphData.strategies.length;b++)a[this.graphData.strategies[b].id]=this.graphData.strategies[b].name;return a},dataForStrategy:function(a){var b={periods:[],staffLMIs:{},discipleLMIs:{}};b.periods=this.graphData.periods;for(var c=0;c<this.graphData.measurements.length;c++){var d=this.graphData.measurements[c].id;if(this.placementData[d]){var e=this.placementData[d].key,f=this.graphData.measurements[c].values,
d=this.placementData[d].type=="disciple"?"discipleLMIs":"staffLMIs";if(a==-1||a==this.graphData.measurements[c].strategyId)if(b[d][e])for(var g=0;g<b[d][e].length;g++)b[d][e][g]=b[d][e][g]+f[g];else b[d][e]=f}}return b},getNodeID:function(){return this.nodeId},label:function(){return this.graphData.title}})});steal.executed("opstools/GMAMatrix/classes/GMAGraphData.js");
steal("can/view/ejs",function(a){return a.view.preload("opstools_GMAMatrix_views_GMAMatrix_GMAMatrix_ejs",a.EJS(function(a,c){with(c)with(a){var d=[];d.push('\n    <div class="row" >\n        <div class=\'col-xs-2 gmamatrix-object-widget\'>\n        \n            <div style="height: 809px; padding-top: 83px;" class="genlist-widget-inner opsportal-widget-container">\n                <div class="opsportal-widget-masthead">\n                    \n                    <div style="padding: 0 40%; height: 1em;">\n                        <div class="busy-indicator"></div>\n                    </div>\n                    <\!-- Dashboard filters --\>\n                    <div class="gmamatrix-filters"></div>\n                    \n                    <\!-- Selection lists for Entry / Layout --\>\n                    <div class="gmamatrix-assignment-chooser"></div>\n                    <div class="gmamatrix-report-chooser"></div>\n                    <div class="gmamatrix-strategy-chooser"></div>\n                \n                </div>\n            </div>\n            \n        \n        </div>\n        <div class=\'col-xs-10 gmamatrix-stage\'>            \n        </div>\n    </div>\n');
return d.join("")}}))});steal.executed("opstools/GMAMatrix/views/GMAMatrix/GMAMatrix.ejs");
steal("appdev","appdev/widgets/ad_icon_busy","//opstools/GMAMatrix/controllers/AssignmentList.js","//opstools/GMAMatrix/controllers/StrategyList.js","//opstools/GMAMatrix/controllers/ReportList.js","//opstools/GMAMatrix/controllers/GMAStage.js","//opstools/GMAMatrix/controllers/GMAFilters.js","//opstools/GMAMatrix/classes/GMAGraphData.js","//OpsPortal/classes/OpsTool.js","//opstools/GMAMatrix/views/GMAMatrix/GMAMatrix.ejs",function(){AD.Control.OpsTool.extend("GMAMatrix",{formatDate:function(a){return a.substr(0,
4)+"-"+a.substr(4,2)+"-"+a.substr(6,2)},parseYMD:function(a){return new Date(this.formatDate(a))}},{init:function(a,b){var c=this;this.options=b=AD.defaults({templateDOM:"//opstools/GMAMatrix/views/GMAMatrix/GMAMatrix.ejs",resize_notification:"gmamatrix.resize"},b);AD.classes.opsportal.OpsTool.prototype.init.apply(this,arguments);this.strategy=this.placements=this.measurements=null;this.initDOM();this.setupPage();this.loadAssignments();AD.comm.hub.subscribe("gmamatrix.assignment.selected",function(a,
b){c.selectedAssignment(b.model)});AD.comm.hub.subscribe("gmamatrix.report.selected",function(a,b){c.selectedReport(b.model)});AD.comm.hub.subscribe("gmamatrix.strategy.selected",function(a,b){c.selectedStrategy(b.model)})},initDOM:function(){this.element.html(can.view(this.options.templateDOM,{}))},setupPage:function(){var a=this,b=this.element.find(".gmamatrix-stage"),c=this.element.find(".gmamatrix-filters");a.controls={assignment:new AD.controllers.opstools.GMAMatrix.AssignmentList(this.element.find(".gmamatrix-assignment-chooser")),
strategy:new AD.controllers.opstools.GMAMatrix.StrategyList(this.element.find(".gmamatrix-strategy-chooser")),report:new AD.controllers.opstools.GMAMatrix.ReportList(this.element.find(".gmamatrix-report-chooser")),filters:new AD.controllers.opstools.GMAMatrix.GMAFilters(c),stage:new AD.controllers.opstools.GMAMatrix.GMAStage(b)};b.on("panel-active",function(b,c){"#dashboard"==c?(a.controls.filters.show(),a.controls.assignment.hide(),a.controls.strategy.hide(),a.controls.report.hide()):(a.controls.filters.hide(),
a.controls.assignment.show(),a.controls.strategy.show(),a.controls.report.show())});b.on("layout-changed",function(){a.selectedStrategy(a.strategy)});c.on("assignment-selected",function(b,c){a.selectedAssignment(c.model)});c.on("dates-chosen",function(b,c,d,h){a.loadDashboardData(c,d,h)});c.on("strategy-selected",function(b,c){var d=c.model.getID();a.renderDashboardGraphs(d)});this.busyIndicator=new AD.widgets.ad_icon_busy(this.element.find(".busy-indicator"),{style:"circle",color:"grey"});for(var d in a.controls)a.controls[d].element.on("busy",
function(){a.busyIndicator.show()}),a.controls[d].element.on("idle",function(){a.busyIndicator.hide()})},loadAssignments:function(){var a=this;a.busyIndicator.show();AD.classes.gmamatrix.GMAAssignment.assignments().done(function(b){0==b.length&&alert("No GMA assignments found");a.controls.assignment.setData(b);a.controls.filters.loadAssignments(b)}).fail(function(a){console.error(a);alert("Unable to load GMA assignments")}).always(function(){a.busyIndicator.hide()})},selectedAssignment:function(a){var b=
this;AD.comm.hub.publish("gmamatrix.measurements.clear",{});b.controls.assignment.setSelectedItem(a.getID());b.controls.filters.setSelectedAssignment(a.getID());b.busyIndicator.show();a.reports().done(function(a){b.controls.report.data(a);for(var d,e,f=0;f<a.length;f++){var g=b.constructor.parseYMD(a[f].startDate),h=b.constructor.parseYMD(a[f].endDate);if(!d||g<d)d=g;if(!e||h>e)e=h}b.controls.filters.setDateRange(d,e)}).fail(function(){console.error("Error retrieving reports from ");console.log(a)}).always(function(){b.busyIndicator.hide()})},
selectedReport:function(a){var b=this;AD.comm.hub.publish("gmamatrix.measurements.clear",{});b.busyIndicator.show();async.series([function(c){a.measurements().fail(console.log).done(function(a){b.measurements=a;c()})},function(c){a.placements().fail(console.log).done(function(a){b.placements=a;c()})},function(a){var d=[],e;for(e in b.measurements)d.push(e);AD.comm.hub.publish("gmamatrix.strategies.loaded",{strategies:d});a()}],function(){b.busyIndicator.hide()})},selectedStrategy:function(a){this.strategy=
a;AD.comm.hub.publish("gmamatrix.measurements.clear",{});this.controls.stage.loadMeasurements(this.measurements[a.getID()])},loadDashboardData:function(a,b,c){var d=this;this.busyIndicator.show();this.graphData=null;var e=new AD.classes.gmamatrix.GMAGraphData({nodeId:a,startDate:b.replace(/-/g,""),endDate:c.replace(/-/g,"")});e.dataReady.fail(function(a){alert(a.message)}).done(function(){var a=e.strategies();d.graphData=e;d.controls.filters.loadStrategies(a)}).always(function(){d.busyIndicator.hide()})},
renderDashboardGraphs:function(a){this.controls.stage.renderDashboard(this.graphData.dataForStrategy(a))}})});steal.executed("opstools/GMAMatrix/controllers/GMAMatrix.js");steal("//opstools/GMAMatrix/controllers/GMAMatrix.js","//opstools/GMAMatrix/matrix.css","//opstools/GMAMatrix/matrix-scratch.css","//opstools/GMAMatrix/datepicker.css","http://code.jquery.com/ui/1.11.0/themes/smoothness/jquery-ui.css","site/labels/opstools/GMAMatrix.js","jquery-wijmo.css","wijmo-pro.css","wijmo-open.js").then("wijmo-pro.js").then(function(){});
steal.executed("opstools/GMAMatrix/GMAMatrix.js");steal.popPending();
